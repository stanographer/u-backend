(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){e.exports=a.p+"static/media/aloft_browser_bar.2d1da67c.png"},208:function(e,t){var a=function(e){var t=0;return{next:function(){return t<e.length?{word:e[t++],done:!1}:{done:!0}}}}("DAVID MALAN: Okay. So today we peel back the layers that we've been assuming for some time now. We've been talking about integers and characters. But we also had this higher level concept of a string, which was a generic way of saying you had back-to-back characters that represent words or sentences or paragraphs or whatnot.\n\tBut today we reveal that that's actually been a bit of a lie.\nThere actually is no such thing as string in the language called C. And indeed, you might have kind of suspected as much, given that we keep including cs50.h, which gives you things like GetInt and GetString and so forth. But it also gives you string, literally, a keyword that actually doesn't come with C. And before we peel back what exactly it is, let's consider perhaps what problems it creates and what powers it reveals to understand what's going on underneath the hood. And let me propose that we try to implement, at least in pseudocode, this algorithm here, swap.\n\tSo I proclaim that swap is a function whose purpose in life is to take two inputs \u2014 let's call it a and b \u2014 and just swap them, so that a becomes b, and b becomes a. And before we even get into the weeds of pseudocode or actual code, we actually have two values here.\n\tMight anyone like to join me onstage for just a moment for a drink of Gatorade?\n\tA little Gatorade?\n\tMaybe someone a little farther back today?\n\tA little drink?\n\tYeah?\n\tOkay. Come on down.\n\tWhat's your name?\n\nKATE: Kate.\n\nDAVID MALAN: Kate, come on down. Join me for some Gatorade onstage. Welcome to Kate. All right.\n\tSo the challenge at hand is this. Let me just set us up here. So we have some green. That's very unnatural looking. Okay. We have some pink. And you know what? I think, actually, I'd like the pink, and maybe you could have green. I need you to swap the values of these two cups if you could. I need you to get the pink into the green cup and the green into the pink cup.\n\nKATE: I think I need another cup.\n\nDAVID MALAN: Okay. So she thinks she's going to need another cup. And okay, so good. I came prepared. So we need another variable, if you will. Okay. So here we go, Kate. Set us up.".trim().split(" "));e.exports={wordIterator:a}},229:function(e,t,a){e.exports=a(530)},236:function(e,t,a){},293:function(e,t,a){},295:function(e,t,a){},299:function(e,t,a){},320:function(e,t,a){},356:function(e,t,a){},520:function(e,t,a){},522:function(e,t,a){},530:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),o=a.n(l),s=(a(234),a(236),a(534)),c=a(532),i=r.a.createContext(null),u=a(7),m=a(8),d=a(11),h=a(9),p=a(10),b=r.a.createContext(null),g=function(e){return function(t){return r.a.createElement(b.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},f=b,E=a(100),v=a.n(E),y=(a(283),a(285),{apiKey:"AIzaSyD9kUhusklUOTC36blxrrGYILIaPd3e7Bw",authDomain:"aloft-53221.firebaseapp.com",databaseURL:"https://aloft-53221.firebaseio.com",projectId:"aloft-53221",storageBucket:"aloft-53221.appspot.com",messagingSenderId:"439623820482"}),w=function e(){var t=this;Object(u.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doCreateUserWithEmailLink=function(e,a){return t.auth.sendSignInLinkToEmail(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithEmailLink=function(e){return t.auth.signInWithEmailLink(e)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.findUser=function(e){return t.db.ref("users").orderByChild("username").equalTo(e)},this.deleteJobFromUser=function(e){return t.user(t.auth.currentUser.uid).child("jobs").child(e).remove()},this.allJobs=function(){return t.db.ref("jobs")},this.allJobsList=function(){return t.db.ref("jobs").orderByKey()},this.jobById=function(e){return t.db.ref("/jobs/".concat(e))},this.jobsBySlug=function(e){return t.db.ref("jobs").orderByChild("slug").equalTo(e)},this.deleteJobFromJobs=function(e){return t.db.ref("jobs").child("".concat(e)).remove()},this.events=function(){return t.db.ref("events")},v.a.initializeApp(y),this.auth=v.a.auth(),this.db=v.a.database()},k=function(e){var t=function(t){function a(e){var t;return Object(u.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).state={authUser:null},t}return Object(p.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(i.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return g(t)},j=a(535),O=a(27),C="/about",S="/dashboard",N=function(e){return function(t){var a=function(a){function n(){return Object(u.a)(this,n),Object(d.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(p.a)(n,a),Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(i.Consumer,null,function(n){return e(n)?r.a.createElement(t,a.props):null})}}]),n}(r.a.Component);return Object(O.a)(j.a,g)(a)}},x=a(2),T=a(98),A=a(208);var I=function(){var e={text:"",addText:function(e){this.text+=e+" "}},t=Object(n.useState)(e.text),a=Object(T.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)(function(){var t=setInterval(function(){var a=A.wordIterator.next();!0!==a.done?(e.addText(a.word),o(l+e.text)):clearInterval(t)},300);return function(){return clearInterval(t)}}),r.a.createElement("div",null,r.a.createElement("p",null,l))},L=a(6),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(L.a)(Object(L.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.F,{color:"dark",className:"navbar fixed-top navbar-dark bg-primary",expand:"lg",fixed:"true"},r.a.createElement(x.n,null,r.a.createElement(x.G,{href:"/"},"UPWORDLY"),r.a.createElement(x.H,{onClick:this.toggle}),r.a.createElement(x.m,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(x.C,{className:"ml-auto",navbar:!0},r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"#about"},"About")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"#features"},"Features")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"#pricing"},"Pricing")),r.a.createElement(x.L,{nav:!0,inNavbar:!0},r.a.createElement(x.q,{nav:!0,caret:!0},"Options"),r.a.createElement(x.p,{right:!0},r.a.createElement(x.o,null,"Option 1"),r.a.createElement(x.o,null,"Option 2"),r.a.createElement(x.o,{divider:!0}),r.a.createElement(x.o,null,"Reset"))),r.a.createElement(x.D,null,r.a.createElement("a",{href:"/signin",className:"btn btn-outline-light btn-md"},"Sign In")))))))}}]),t}(r.a.Component),P=a(531),z=function(){return r.a.createElement("footer",{className:"bg-mustard text-primary py-5"},r.a.createElement(x.n,{className:"py-5"},r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h5",{className:"text-uppercase text-header"},"Upwordly"),r.a.createElement("p",null,r.a.createElement("small",null,"\xa92019 Upwordly, LLC.",r.a.createElement("br",null),"All rights reserved.")),r.a.createElement("p",null,r.a.createElement("small",null,"Proudly built in NYC. \u2665"))),r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h6",{className:"text-header"},"Company"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"About us")))),r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h6",{className:"text-header"},"Features"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"Live Transcription Anywhere")),r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"Repository")),r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"Delivery")),r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"Analytics")),r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"API")))),r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h6",{className:"text-header"},"Support"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"Contact")),r.a.createElement("li",null,r.a.createElement(P.a,{className:"text-light-brown",to:C},"FAQs")))))))},U=a(94),J=a.n(U),W=(a(293),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement("header",{className:"bg-mustard"},r.a.createElement(x.n,{className:"h-100"},r.a.createElement(x.I,{className:"h-100"},r.a.createElement(x.l,{lg:12},r.a.createElement("div",{className:"text-center m-0 vh-100 d-flex flex-column justify-content-center text-primary"},r.a.createElement("h1",{className:"display-4 header-main"},"Upwordly"),r.a.createElement("p",{className:"lead text-primary mt-2"},r.a.createElement(J.a,{strings:["One platform to sync, send, and integrate your real-time transcriptions.","Web-based live stenography, anywhere."],typeSpeed:40})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"btn-group-lg"},r.a.createElement("a",{href:"#about",className:"btn btn-outline-dark btn-lg"},"Learn More")))))))),r.a.createElement("div",{id:"about"}),r.a.createElement("section",{className:"container mt-10"},r.a.createElement("h1",{className:"text-center mt-4 section-header"},"About Upwordly"),r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:6,md:6,sm:12},r.a.createElement("p",{className:"mt-4"},"Upwordly is a real-time transcription delivery tool and a content management system (CMS) for real-time stenographers. You login, create a job, connect your CAT software via a small helper app, and start writing. Distribute your live feed to anyone via a short URL and that's it! Since it is web based, there's no need for your consumers to install anything on their end. When the job is over, it's your choice to use the variety of tools to save or disseminate the transcript or to delete it. Simple.")),r.a.createElement(x.l,{lg:6,md:6,sm:12},r.a.createElement("div",{className:"browser-mockup with-url"},r.a.createElement("div",{className:"upwordly-mockup"},r.a.createElement(I,null)))))),r.a.createElement("div",{id:"features"}),r.a.createElement("section",{className:"container mt-10"},r.a.createElement("h1",{className:"text-center mt-4 mb-6 section-header"},"Send your live transcriptions to the cloud."),r.a.createElement(x.f,null,r.a.createElement(x.d,{body:!0,outline:!0,color:"primary"},r.a.createElement(x.k,{className:"text-primary card-title"},"Fast"),r.a.createElement(x.j,null,"Utilizing distributed WebSockets connections ensures your viewers get text at nearly instantaneous speeds.")),r.a.createElement(x.d,{body:!0,outline:!0,color:"primary"},r.a.createElement(x.k,{className:"text-primary card-title"},"Simple"),r.a.createElement(x.j,null,"Web based means there's nothing to set up for your clients. You simply point them to a URL and your live transcription shows up in their browser.")),r.a.createElement(x.d,{body:!0,outline:!0,color:"primary"},r.a.createElement(x.k,{className:"text-primary card-title"},"Versatile"),r.a.createElement(x.j,null,"Upwordly offers stenographers not only the tools to make their realtime available anywhere; it makes saving, archiving, and sending transcripts a breeze.")))),r.a.createElement("div",{id:"pricing"}),r.a.createElement("section",{className:"container mt-10"},r.a.createElement("h1",{className:"text-center mt-4 mb-6 section-header"},"Flexible Pricing"),r.a.createElement(x.f,null,r.a.createElement(x.d,{body:!0,inverse:!0,className:"bg-primary"},r.a.createElement(x.k,null,"Single User"),r.a.createElement(x.j,null,"You're a single freelancer and expect to use the service around 10 times per week."),r.a.createElement(x.b,{outline:!0,size:"lg",className:"btn btn-outline-light"},"$48 per month"))," ",r.a.createElement(x.d,{body:!0,inverse:!0,className:"bg-primary"},r.a.createElement(x.k,null,"Agency"),r.a.createElement(x.j,null,"You're an agency employing 2-10 writers and expect to use the service 10-30 times per week."),r.a.createElement(x.b,{outline:!0,size:"lg",className:"btn btn-outline-light"},"$98 per month"))," ",r.a.createElement(x.d,{body:!0,inverse:!0,className:"bg-primary"},r.a.createElement(x.k,null,"Enterprise"),r.a.createElement(x.j,null,"You have a large staff and clientele base with an average of over 30 uses per week."),r.a.createElement(x.b,{outline:!0,size:"lg",className:"btn btn-outline-light"},"$280 per month")))),r.a.createElement("section",{className:"container mt-10"}),r.a.createElement(z,null))}),_=a(21),B=a(15),F={fullName:"",fullNameValid:null,parsedName:{},username:"",usernameIsValid:null,email:"",emailValid:null,emailAvailable:null,passwordOne:"",passwordTwo:"",passwordStrength:{},privilegeLevel:"",usersList:[],error:null},R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.parsedName,r=t.username,l=t.email,o=t.passwordOne,s=t.privilegeLevel;a.props.firebase.doCreateUserWithEmailAndPassword(l,o).then(function(e){return a.props.firebase.user(e.user.uid).set({firstName:n.first,lastName:n.last,privilegeLevel:s,username:r,email:l})}).then(function(e){a.setState(Object(B.a)({},F)),a.props.history.push(S)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){"passwordOne"===e.target.name&&a.analyzePassword(e.target.value),"fullName"===e.target.name&&a.parseName(e.target.value),"email"===e.target.name&&a.onTypeEmail(e.target.value),a.setState(Object(_.a)({},e.target.name,e.target.value))},a.onTypeEmail=function(e){a.timeOut&&clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.props.firebase.users().once("value",function(e){if(!e.val())return a.setState({emailAvailable:!0});var t=e.val();if(console.log(e.val()),e.val()){var n=Object.keys(t).map(function(e){return Object(B.a)({},t[e],{uid:e})});console.log(n)}}).catch(function(e){return console.log("error! "+e)})},3e3)},a.validateEmail=function(e){var t=e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);return console.log("test",t.test(e)),a.setState({emailValid:t.test(e)})},a.parseName=function(e){console.log(e);var t=e.trim();try{var n={firstName:"",middleName:"",lastName:""},r=t.split(" ");switch(r.length){case 1:n.firstName=r[0],a.setState({fullNameValid:!1,error:"You must supply at minimum a first and last name."});break;case 2:n.firstName=r[0],n.lastName=r[1],a.setState({error:""});break;case 3:n.firstName=r[0],n.middleName=r[1],n.lastName=r[2],a.setState({error:""});break;default:a.setState({fullNameValid:!1,error:"Names must be at maximum three components long: first name, middle name, last name."})}if(!n.firstName||!n.lastName)return;return a.setState({fullNameValid:!0,parsedName:{first:n.firstName,middle:n.middleName?n.middleName:"",last:n.lastName}})}catch(l){a.setState({fullNameValid:!1,error:"Name can only have at most three components: a first, middle, and a last name."})}},a.analyzePassword=function(e){var t={strength:"weak",message:"Must be longer than 0 characters."},n={all:new RegExp("^(?=.*[A-Za-z.s_-])(?=.*[0-9])(?=.*[!@#$%^&*()><,.'\":;=+])(?=.{6,})"),atLeastSix:new RegExp("^(?=.{6,})"),containsAlpha:new RegExp("^(?=.*[A-Za-z.s_-])"),containsNum:new RegExp("^(?=.*[0-9])"),containsSymbol:new RegExp("^(?=.*[!@#$%^&*()?><,.'\":;=+])"),isntCommon:new RegExp("^(?!.*pass|.*word|.*1234|.*123|.*qwer|.*asdf|.*home|.*hello|.*welcome)")};switch(e&&e.length>0){case!n.atLeastSix.test(e):t.message="Password must at least 6 characters.",t.strength="medium";break;case!n.containsAlpha.test(e):t.strength="weak",t.message="Password must contain letters.";break;case!n.containsSymbol.test(e):t.strength="medium",t.message="Password must contain at least one symbol (!, @, #, $, etc.).";break;case!n.isntCommon.test(e):t.strength="weak",t.message='Password must not contain common sequences ("pass", "qwerty", "1234", etc.).';break;case!n.containsNum.test(e):t.message="Password must contain at least 1 numeral.",t.strength="medium";break;case n.all.test(e):t.strength="strong",t.message="Password is nice and strong."}return a.setState({passwordStrength:t})},a.state=F,a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){this.props.firebase&&this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.fullNameValid,a=e.username,n=e.email,l=e.emailValid,o=e.emailAvailable,s=e.passwordOne,c=e.passwordTwo,i=e.passwordStrength,u=e.error;""===a||""===t||""===n||""===c||i.strength;return r.a.createElement(x.n,null,r.a.createElement("h1",null,"Aloft Sign-Up"),r.a.createElement(x.r,{onSubmit:this.onSubmit},r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"Full Name",sm:2,size:"lg"},"Full Name"),r.a.createElement(x.l,{sm:10},r.a.createElement(x.v,{bsSize:"lg",onChange:this.onChange,type:"text",name:"fullName",id:"fullName",placeholder:"(i.e. Charles Li)",valid:t}),r.a.createElement(x.s,{valid:!0},"Sweet! That name works!"))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{size:"lg",for:"Email",sm:2},"Email"),r.a.createElement(x.l,{sm:10},r.a.createElement(x.v,{bsSize:"lg",type:"text",name:"email",id:"email",placeholder:"(i.e. charlesli@gmail.com)",value:n,onChange:this.onChange,valid:l&&o}),r.a.createElement(x.s,{valid:this.state.emailAvailable},"Sweet! that email is valid and available!"),l&&!o?r.a.createElement(x.s,{invalid:"true"},"The email is valid but is not available."):"",l?"":r.a.createElement(x.s,{invalid:"true"},"The email is badly formatted."))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"username",sm:2,size:"lg"},"Username"),r.a.createElement(x.l,{sm:10},r.a.createElement(x.v,{type:"text",name:"username",value:a,onChange:this.onChange,id:"username",placeholder:"(i.e. licharles",bsSize:"lg"}))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{size:"lg",for:"passwordOne",sm:2},"Password"),r.a.createElement(x.l,{sm:10},r.a.createElement(x.v,{type:"password",name:"passwordOne",id:"passwordOne",placeholder:"Password",bsSize:"lg",value:s,onChange:this.onChange,valid:"strong"===i.strength,invalid:"strong"!==i.strength&&s.length>0}),"strong"===i.strength?r.a.createElement(x.s,{valid:!0},this.state.passwordStrength.message):null,"medium"===i.strength?r.a.createElement(x.s,{invalid:"true"},this.state.passwordStrength.message):null,"weak"===i.strength?r.a.createElement(x.s,{invalid:"true"},this.state.passwordStrength.message):null,r.a.createElement(x.u,null,"Passwords must be at least 6 characters long, 1 numeric character, and 1 special character (@,%,^,*, etc.)."))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"passwordOne",sm:2,size:"lg"},"Confirm password"),r.a.createElement(x.l,{sm:10},r.a.createElement(x.v,{type:"password",name:"passwordTwo",id:"passwordTwo",placeholder:"Confirm password",bsSize:"lg",value:c,onChange:this.onChange,valid:s===c&&""!==c,invalid:s!==c&&c.length>0}),s===c?r.a.createElement(x.s,{valid:!0},"Nice! Passwords are looking good!"):null,s!==c?r.a.createElement(x.s,{invalid:"true"},"Confirmation password must match original."):null)),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"privilegeLevel",sm:2,size:"lg"},"Privilege level"),r.a.createElement(x.l,{sm:10},r.a.createElement(x.v,{bsSize:"lg",value:this.state.privilegeLevel,onChange:this.onChange,type:"select",id:"privilegeLevel",name:"privilegeLevel"},r.a.createElement("option",{value:"provider"},"Provider (stenographer)"),r.a.createElement("option",{value:"consumer"},"Consumer"),r.a.createElement("option",{value:"admin"},"Administrator")))),u&&r.a.createElement(x.a,{color:"danger"},u||u.message),r.a.createElement(x.b,{color:"primary",size:"lg",block:!0,type:"submit"},"Create new account")))}}]),t}(n.Component),M=function(){return r.a.createElement(r.a.Fragment,null,"Don't have an account? ",r.a.createElement(P.a,{to:"/signup"},"Sign Up"))},q=Object(O.a)(j.a,g)(R),V=a(533),Y={email:"",error:null},K=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(B.a)({},Y))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(_.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},Y),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),t}(n.Component),H=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{to:"/pw-forget"},"Forgot Password?"))},G=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement($,null))},$=g(K),Z=(a(295),function(){return r.a.createElement("div",{className:"login__form h-100-vh bg-mustard"},r.a.createElement(x.n,null,r.a.createElement(x.I,null,r.a.createElement(x.l,{md:3}),r.a.createElement(x.l,{md:6},r.a.createElement("div",{className:"mb-4"},r.a.createElement("h2",{className:"login--form-header"},"Upwordly"),r.a.createElement("p",{className:"login--form-welcome my-2"},r.a.createElement(J.a,{strings:["Welcome back!"],typeSpeed:40}))),r.a.createElement(ee,null)),r.a.createElement(x.l,{md:3}))),r.a.createElement("footer",{className:"bg-mustard text-primary pt-5 mt-5"},r.a.createElement(x.n,{className:"pt-5"},r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:6,md:6,sm:12,className:"mb-2 footer--section-header"},r.a.createElement("h5",{className:"text-uppercase text-header"},"Upwordly"),r.a.createElement("p",null,r.a.createElement("small",null,"\xa92019 Upwordly, LLC.",r.a.createElement("br",null),"All rights reserved.")),r.a.createElement("p",null,r.a.createElement("small",null,"Proudly built in NYC. \u2665"))),r.a.createElement(x.l,{lg:6,md:6,sm:12,className:"mb-2 footer--section-header"},r.a.createElement("h4",{className:"text-header pb-3 text-strong"},"Need help?"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(P.a,{to:"/"},"Back to Landing Page")),r.a.createElement("li",null,r.a.createElement(H,null)),r.a.createElement("li",null,r.a.createElement(M,null))))))))}),Q={email:"",password:"",error:null},X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then(function(){a.setState(Object(B.a)({},Q)),a.props.history.push(S)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(_.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},Q),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement("div",null,r.a.createElement(x.r,{onSubmit:this.onSubmit},r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"email",sm:4,size:"lg",className:"text-primary text-strong"},"Email"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{required:!0,value:t,onChange:this.onChange,type:"text",name:"email",id:"email",bsSize:"lg"}),r.a.createElement("span",{className:"floating-label"},"Your email address"))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"password",sm:4,size:"lg",className:"text-primary text-strong"},"Password"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{required:!0,value:a,onChange:this.onChange,type:"password",name:"password",id:"password",bsSize:"lg"}),r.a.createElement("span",{className:"floating-label"},"Your password"))),n&&r.a.createElement(x.K,{color:"danger"},n.message),r.a.createElement(x.b,{className:"btn btn-primary btn-lg mt-4",disabled:l,type:"submit",size:"lg",block:!0},"Sign In")))}}]),t}(n.Component),ee=Object(O.a)(j.a,g)(X),te=function(e){return r.a.createElement(i.Consumer,null,function(t){return t?r.a.createElement(V.a,Object.assign({to:"/dashboard"},e)):r.a.createElement(Z,null)})},ae={passwordOne:"",passwordTwo:"",error:null},ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(B.a)({},ae))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(_.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},ae),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component),re=g(ne),le=N(function(e){return!!e})(function(){return r.a.createElement(i.Consumer,null,function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account Page"),r.a.createElement($,null),r.a.createElement(re,null))})}),oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,message:"",users:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var a=t.val();if(a){var n=Object.keys(a).map(function(e){return Object(B.a)({},a[e],{uid:e})});e.setState({users:n,loading:!1})}else e.setState({loading:!1,message:"There are currently no users in the database to load."})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.message,a=e.users,n=e.loading;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),n&&r.a.createElement("div",null,"Loading ..."),t&&r.a.createElement("div",null,"There are no users to load."),r.a.createElement(se,{users:a}))}}]),t}(r.a.Component),se=function(e){var t=e.users;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username))}))},ce=g(oe),ie=g(function(e){var t=e.firebase;return r.a.createElement(x.b,{type:"button",className:"btn btn-outline-light btn-md btn-primary",onClick:t.doSignOut},"Sign Out")}),ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(L.a)(Object(L.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props)}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props.user;e.firstName,e.lastName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.F,{color:"dark",className:"navbar fixed-top navbar-dark bg-primary",expand:"lg",fixed:"true"},r.a.createElement(x.n,null,r.a.createElement(x.G,{href:"/"},"UPWORDLY"),r.a.createElement(x.H,{onClick:this.toggle}),r.a.createElement(x.m,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(x.C,{className:"ml-auto",navbar:!0},r.a.createElement(x.D,null,r.a.createElement(x.E,{href:S},"Dashboard")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"/repo"},"Repository")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"/account"},"Account")),r.a.createElement(x.L,{nav:!0,inNavbar:!0},r.a.createElement(x.q,{nav:!0,caret:!0},"Support"),r.a.createElement(x.p,{right:!0},r.a.createElement(x.o,null,"Download CAT Plugin"),r.a.createElement(x.o,{divider:!0}),r.a.createElement(x.o,null,"Email Support"))),r.a.createElement(x.D,null,r.a.createElement(ie,null)))))))}}]),t}(r.a.Component),me=function(e){return r.a.createElement(i.Consumer,null,function(t){return t?r.a.createElement(ue,e):r.a.createElement(D,null)})},de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){var t=new RegExp("^[a-z0-9_-]*$");console.log(a.state),"slug"===e.target.id&&(t.test(e.target.value)?a.setState({error:""}):a.setState({error:"Slug names may only consist of lower case letters, numbers, dashes, and hyphens."}),e.target.value=e.target.value.toLowerCase()),a.setState(Object(_.a)({},e.target.id,e.target.value))},a.onTogglePrivacy=function(){a.setState({privacy:!a.state.privacy})},a.addJob=function(e){a.props.firebase.jobsBySlug(e).once("value",function(e){return e.val()?a.setState({error:"There is already a job with that slug."}):a.addJobToJobs()})},a.addJobToJobs=function(){var e=a.props.firebase,t=a.props.user,n=t.username,r=t.firstName,l=t.lastName,o=a.state,s=o.slug,c=o.title,i=o.speakers,u=o.timeCreated,m=o.privacy,d=o.privacyPassword,h=o.viewCount,p=o.completed;e.allJobs().push({slug:!!s&&s.trim().toLowerCase(),title:!!c&&c.trim(),username:n,userFullName:"".concat(r," ").concat(l),speakers:!!i&&i.trim(),timeCreated:u,privacy:m,privacyPassword:d,viewCount:h,completed:p},function(e){if(e)return a.setState({error:e})}).then(function(e){return a.addJobToUser(s,e)})},a.addJobToUser=function(e,t){var n=a.props.firebase,r=a.props.user.uid;n.user(r).child("jobs").child(e).set({id:t.key},function(e){if(e)return a.setState({error:e})}).then(function(){return a.setState({message:"Job successfully created!"})})},a.onSubmit=function(e){e.preventDefault();var t=a.state.slug;a.addJob(t)},a.state={slug:"",title:"",username:"",speakers:"",timeCreated:(new Date).toUTCString(),privacy:!1,privacyPassword:"",conf:"",viewCount:0,completed:!1,error:"",warningVisible:!0,message:""},a.onWarningDismiss=a.onWarningDismiss.bind(Object(L.a)(Object(L.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onWarningDismiss",value:function(){this.setState({warningVisible:!1})}},{key:"componentWillUnmount",value:function(){this.props.firebase.user().off()}},{key:"render",value:function(){var e=this,t=this.props.user.username,a=this.state,n=a.error,l=a.slug,o=a.speakers,s=(a.privacyPassword,a.title),c=""!==n||""===l;return r.a.createElement("div",null,r.a.createElement(x.d,{className:"job-creator-card"},r.a.createElement(x.h,null,r.a.createElement("h4",{className:"title d-inline text-primary"},"CREATE NEW JOB"),r.a.createElement("hr",null)),r.a.createElement(x.e,null,r.a.createElement(x.r,{autoComplete:"off"},r.a.createElement(x.I,{form:!0},r.a.createElement(x.l,{md:12},r.a.createElement(x.t,null,r.a.createElement(x.z,{for:"slug"},"URI SLUG (required)"),r.a.createElement(x.v,{autoComplete:"off","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"slug",id:"slug",placeholder:"e.g. srcconpower2018-power-people-of-color",value:this.state.slug,onChange:function(t){return e.onChange(t)}}),l&&!n?r.a.createElement("p",{className:"text-success"},"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(t,"/").concat(l)):"",n&&r.a.createElement("p",{className:"text-warning"},n)),r.a.createElement(x.t,null,r.a.createElement(x.z,{for:"title"},"TITLE"),r.a.createElement(x.v,{autoComplete:"false","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"title",id:"title",placeholder:"e.g. Power to the People\u2014of Color",value:this.state.title,onChange:function(t){return e.onChange(t)}}),s&&!n?r.a.createElement("p",{className:"text-success"},'"'.concat(s,'"')):""),r.a.createElement(x.t,null,r.a.createElement(x.z,{for:"speakers"},"SPEAKER(S)"),r.a.createElement(x.v,{autoComplete:"false","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"speakers",id:"speakers",placeholder:"e.g. Emmanuel Martinez, Julia B. Chan",value:this.state.speakers,onChange:function(t){return e.onChange(t)}}),o&&!n?r.a.createElement("p",{className:"text-success"},'"'.concat(o,'"')):""),r.a.createElement(x.t,{check:!0},r.a.createElement("div",{className:"custom-control custom-checkbox d-inline"},r.a.createElement(x.v,{defaultChecked:this.state.privacy,onChange:this.onTogglePrivacy,type:"checkbox",name:"privacy",id:"privacy",className:"custom-control-input"}),r.a.createElement(x.z,{for:"privacy",className:"custom-control-label",check:!0},"Private"))),r.a.createElement("br",null),r.a.createElement(x.t,{hidden:!this.state.privacy},r.a.createElement(x.v,{autoComplete:"false","data-lpignore":"true",type:"password",bsSize:"lg",required:!0,name:"privacyPassword",id:"privacyPassword",value:this.state.privacyPassword,onChange:function(t){return e.onChange(t)}}),r.a.createElement("br",null),r.a.createElement("p",{className:"text-success"},"Users will have to type in this password to access the transcription.")))))),r.a.createElement(x.g,null,r.a.createElement(x.b,{size:"lg",type:"submit",color:"primary",disabled:c,onClick:function(t){return e.onSubmit(t)}},"Create Event"))),!!this.state.message&&r.a.createElement("p",null,this.state.message))}}]),t}(r.a.Component),he=Object(O.a)(j.a,g,N(function(e){return!!e}))(de),pe=a(224),be=a(143),ge=a.n(be),fe=a(211);function Ee(){return(Ee=Object(fe.a)(ge.a.mark(function e(t,a){var n,r,l,o,s;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(a," (").concat(t,").txt"),e.next=3,fetch("".concat(window.location.protocol,"//").concat(window.location.hostname,"/api?user=").concat(t,"&job=").concat(a));case 3:return r=e.sent,e.next=6,r.text();case 6:return l=e.sent,e.next=9,new Blob([l],{type:"text/plain"});case 9:return o=e.sent,(s=document.createElement("a")).download=n,s.innerHTML="My Hidden Download Link",s.onclick=function(e){return document.body.removeChild(e.target)},s.href=window.URL.createObjectURL(o),s.style.display="none",document.body.appendChild(s),s.click(),e.abrupt("return",l);case 19:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ve=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={jobs:[],selectedJobs:[],loading:!0},a.handleJobCheck=a.handleJobCheck.bind(Object(L.a)(Object(L.a)(a))),a.handleDeleteJobs=a.handleDeleteJobs.bind(Object(L.a)(Object(L.a)(a))),a.handleDownloadJobs=a.handleDownloadJobs.bind(Object(L.a)(Object(L.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.allJobsList().on("value",function(t){var a=t.val();if(a){var n=Object.keys(a).map(function(e){return Object(B.a)({},a[e],{uid:e})}).reverse();n.forEach(function(t){var a="".concat(window.location.protocol,"//").concat(window.location.hostname);fetch("".concat(a,"/api/snippet?user=").concat(t.username,"&job=").concat(t.slug),{method:"get",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.text()}).then(function(e){t.snippet=e?e+"...":""}).then(function(){e.setState({jobs:n,loading:!1})}).catch(function(){e.setState({jobs:n,loading:!1})})})}else e.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.allJobs().off()}},{key:"handleJobCheck",value:function(e){"checkbox"===e.target.type&&e.target.checked?this.state.selectedJobs&&!this.state.selectedJobs.includes(e.target.name)&&this.setState({selectedJobs:[].concat(Object(pe.a)(this.state.selectedJobs),[e.target.name])}):this.setState({selectedJobs:this.state.selectedJobs.filter(function(t){return t!==e.target.name})})}},{key:"handleDownloadJobs",value:function(e){var t=this.state.selectedJobs;e.preventDefault(),t.forEach(function(e){(function(e,t){return Ee.apply(this,arguments)})(e.split(",")[2],e.split(",")[1]).then(function(){return console.log("success!")}).catch(function(e){return console.error("Failed to fetch the transcript file: "+e)})})}},{key:"handleDeleteJobs",value:function(e){var t=this,a=this.props.firebase,n=this.state.selectedJobs;e.preventDefault(),n.forEach(function(e){t.setState({jobs:t.state.jobs.filter(function(t){return t.uid!==e.split(",")[0]})}),a.deleteJobFromJobs(e.split(",")[0]),a.deleteJobFromUser(e.split(",")[1]),t.deleteShareDbJob(e.split(",")[2],e.split(",")[1])})}},{key:"deleteShareDbJob",value:function(e,t){var a="".concat(window.location.protocol,"//").concat(window.location.hostname);return fetch("".concat(a,"/api?user=").concat(e,"&job=").concat(t),{method:"delete"}).then(function(e){return e.json()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.jobs,n=t.loading;return r.a.createElement("div",null,n?r.a.createElement("p",{className:"text-center"},r.a.createElement("em",null,"Loading...")):r.a.createElement(x.d,{className:"card-tasks recent-jobs-card"},r.a.createElement(x.h,null,r.a.createElement("h4",{className:"title d-inline text-primary"},"RECENT JOBS"),r.a.createElement(x.L,null,r.a.createElement(x.q,{caret:!0,className:"btn-icon",color:"link","data-toggle":"dropdown",type:"button"},r.a.createElement("i",{className:"tim-icons icon-settings-gear-63"})),r.a.createElement(x.p,{"aria-labelledby":"dropdownMenuLink",right:!0},r.a.createElement(x.o,{href:"#",onClick:function(t){return e.handleDownloadJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-cloud-download-93"}),"Download Transcription File"),r.a.createElement(x.o,{href:"#",onClick:function(t){return e.handleDeleteJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-simple-remove"}),"Delete")))),r.a.createElement(x.e,null,r.a.createElement("div",{className:"table-full-width table-responsive"},r.a.createElement(x.J,null,r.a.createElement("tbody",null,r.a.createElement(ye,{handleJobCheck:this.handleJobCheck,jobs:a,hidden:!a||0===a.length})))))))}}]),t}(r.a.Component),ye=function(e){var t=e.handleJobCheck,a=e.jobs;return r.a.createElement(r.a.Fragment,null,!!a&&a.map(function(e){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,r.a.createElement(x.t,{check:!0},r.a.createElement("div",{className:"custom-control custom-checkbox d-inline"},r.a.createElement(x.v,{key:e.uid,name:"".concat(e.uid,",").concat(e.slug,",").concat(e.username),id:"".concat(e.uid,",").concat(e.slug,",").concat(e.username),type:"checkbox",onChange:function(e){return t(e)},className:"custom-control-input"}),r.a.createElement(x.z,{className:"custom-control-label",for:"".concat(e.uid,",").concat(e.slug,",").concat(e.username),check:!0})))),r.a.createElement("td",null,r.a.createElement("p",{className:"title text-primary recent-jobs--card-title"},e.title?e.title:e.slug," ",r.a.createElement("small",{className:"job-date text-muted"},new Date(e.timeCreated).toLocaleString())),r.a.createElement("small",null,e.slug),r.a.createElement("p",{className:"mt-3"},e.snippet?e.snippet:r.a.createElement("em",null,"This job has no preview."))),r.a.createElement("td",{className:"td-actions text-right"},r.a.createElement(P.a,{color:"link",id:"tooltip636901683",title:"",type:"button",to:"/editor?user=".concat(e.username,"&job=").concat(e.slug)},r.a.createElement("i",{className:"tim-icons icon-pencil"})),r.a.createElement(x.M,{delay:0,target:"tooltip636901683",placement:"right"},"Edit Job")))}))},we=g(ve),ke=(a(299),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={activeTab:"1",user:{},uid:""},a.toggleTab=a.toggleTab.bind(Object(L.a)(Object(L.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggleTab",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(me,{user:this.state.user}),r.a.createElement(x.n,{className:"container clear-navbar-footer"},r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:"6",md:"12"},r.a.createElement(he,{user:this.state.user})),r.a.createElement(x.l,{lg:"6",md:"12"},r.a.createElement(we,null)))),r.a.createElement(z,null))}},{key:"componentDidMount",value:function(){var e=this;document.title="Upwordly Dashboard";var t=this.props.firebase;t.user(t.auth.currentUser.uid).once("value",function(a){var n=a.val();e.setState({user:Object(B.a)({},n,{uid:t.auth.currentUser.uid})})})}}]),t}(r.a.Component)),je=Object(O.a)(j.a,g,N(function(e){return!!e}))(ke),Oe=a(212),Ce=a.n(Oe),Se=a(213),Ne=a.n(Se),xe=a(50),Te=a(37),Ae=a(38),Ie=a(214),Le=a(144),De=a.n(Le),Pe=a(215),ze=a(72),Ue=a.n(ze),Je={host:"upword.ly/ws",port:"",protocol:"wss://",getAddress:function(){return this.protocol+this.host+this.port}},We=new Pe.a(Je.getAddress(),[],{automaticOpen:!0,maxReconnectionDelay:2e3,reconnectInterval:2e3,maxReconnectInterval:3e3,timeoutInterval:2e3,maxRetries:1/0}),_e=new De.a.Connection(We);De.a.types.register(Ue.a.type);var Be=_e,Fe=(a(318),a(320),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={docLength:0,docWords:0,user:"",uid:"",textArea:"",job:{},clickToCopyShown:!1},a.query=Ne.a.parse(a.props.location.search),a.sharedTextArea=r.a.createRef(),a.focusTextInput=a.focusTextInput.bind(Object(L.a)(Object(L.a)(a))),a.handleCountWords=a.handleCountWords.bind(Object(L.a)(Object(L.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=arguments,a=Ue.a.type;console.log(a),this.doc=Be.get(this.query.user,this.query.job),this.doc.subscribe(function(a){if(a&&e.setState({error:"Could not subscribe to the document."}),!e.doc.type){console.log("Creating document...");var n=Ue.a.type.name;e.doc.create("",n,!0,function(){console.log(t)})}!function(e,t){var a;e.value=t.data;var n=[];e.onkeydown=function(t){if("Tab"===t.key){t.preventDefault();var a=e.value,n=e.selectionStart,r=e.selectionEnd;return e.value=a.substring(0,n)+"\t"+a.substring(r),e.selectionStart=e.selectionEnd=n+1,!1}};var r=function(t,r){r&&(n=[r(e.selectionStart),r(e.selectionEnd)]);var l=e.scrollTop;e.value=t,a=e.value,e.scrollTop!==l&&(e.scrollTop=l),n&&window.document.activeElement===e&&(e.selectionStart=n[0],e.selectionEnd=n[1])};r(t.data),t.on("op",function(t,a){if(!0!==a){for(var n=e.value,l=[],o=0;o<t.length;o++){var s=t[o];switch(typeof s){case"number":l.push(n.slice(0,s)),n=n.slice(s);break;case"string":l.push(s);break;case"object":n=n.slice(s.d)}}return r(l.join("")+n)}});for(var l=function(n){setTimeout(function(){e.value!==a&&(a=e.value,function(e,t,a){if(t!==a){for(var n=0;t.charAt(n)===a.charAt(n);)n++;for(var r=0;t.charAt(t.length-1-r)===a.charAt(a.length-1-r)&&r+n<t.length&&r+n<a.length;)r++;if(t.length!==n+r){var l=[n,"",{d:t.length-n-r}];e.submitOp(l)}a.length!==n+r&&e.submitOp([n,a.slice(n,a.length-r)])}}(t,t.data,e.value))},0)},o=["textInput","keydown","keyup","select","cut","paste"],s=0;s<o.length;s++){var c=o[s];e.addEventListener?e.addEventListener(c,l,!1):e.attachEvent("on"+c,l)}t.detach=function(){for(var t=0;t<o.length;t++){var a=o[t];e.removeEventListener?e.removeEventListener(a,l,!1):e.detachEvent("on"+a,l)}}}(document.querySelector("textarea"),e.doc)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.firebase;return this.focusTextInput(),t.user(t.auth.currentUser.uid).once("value",function(a){var n=a.val();e.setState({user:n,uid:t.auth.currentUser.uid})}),this.findJob()}},{key:"componentWillUnmount",value:function(){this.doc.destroy(),this.binding=null}},{key:"focusTextInput",value:function(){this.sharedTextArea.current.focus()}},{key:"handleCountWords",value:function(e){var t=!!e.target.value&&e.target.value.split(" ").length;this.setState({docLength:!!e.target.value&&e.target.value.length,docWords:t})}},{key:"findJob",value:function(){var e=this;this.props.firebase.jobsBySlug(this.query.job).once("value",function(t){if(t.val()){var a=t.val();e.setState({job:a[Object.keys(a)[0]],loading:!1})}})}},{key:"render",value:function(){var e=this;Te.b.add(Ae.b);return r.a.createElement("div",null,r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:6},r.a.createElement("div",{className:"editor-wrapper"},r.a.createElement(x.r,{className:"editor-class"},r.a.createElement(x.v,{className:"editor",ref:this.sharedTextArea,placeholder:"Start writing here...",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",type:"textarea",onChange:function(t){return e.handleCountWords(t)}})))),r.a.createElement(x.l,{lg:6},r.a.createElement("div",null,r.a.createElement(P.a,{to:S,className:"dashboard-link btn btn-primary align-bottom mt-5 mb-5"},r.a.createElement(xe.a,{icon:"arrow-left",onClick:this.goBack}),"\xa0\xa0\xa0 Back to Dashboard"),r.a.createElement(x.d,{body:!0},r.a.createElement(x.k,null,this.state.job.title?'"'.concat(this.state.job.title,'"'):'"'.concat(this.state.job.slug,'"')),r.a.createElement(x.j,null,"Speaker(s): ",this.state.job.speakers?this.state.job.speakers:r.a.createElement("em",null,"None designated."),r.a.createElement("br",null)),r.a.createElement(Ie.Tooltip,{title:"Copied!",position:"top",trigger:"click",animation:"perspective",duration:300},r.a.createElement(Ce.a,{component:"a","button-href":"#","data-clipboard-text":"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(this.query.user,"/").concat(this.query.job)},"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(this.query.user,"/").concat(this.query.job)))),r.a.createElement(x.d,{body:!0},r.a.createElement(x.k,null,"STATS"),0===this.state.docLength?r.a.createElement(x.j,null,r.a.createElement("em",null,"Begin writing to see document stats.")):r.a.createElement(x.j,null,"Words: ",this.state.docWords,r.a.createElement("br",null),"Characters: ",this.state.docLength))))))}}]),t}(r.a.Component)),Re=Object(O.a)(j.a,g,N(function(e){return!!e}))(Fe),Me=a(216),qe=function(){function e(t,a){Object(u.a)(this,e),this.snapshot=t,this.flag=a}return Object(m.a)(e,[{key:"applyOp",value:function(t){return this.snapshot=e.transformSnapshot(t,this.snapshot),this.snapshot}}],[{key:"transformSnapshot",value:function(e,t){console.log(e);for(var a=[],n=0;n<e.length;n++){var r=e[n];switch(typeof r){case"number":a.push(t.slice(0,r)),t=t.slice(r);break;case"string":a.push(r);break;case"object":t=t.slice(r.d)}}return a.join("")+t}}]),e}();var Ve=function(e){console.log(e);var t,a=e.doc,l=e.onLoaded,o=e.cssClass,s=e.style,c=Object(n.useState)(""),i=Object(T.a)(c,2),u=i[0],m=i[1];return Object(n.useEffect)(function(){return a.subscribe(function(e){e&&m("There was a connection error: "+e),null===a.type&&m("This document could not be subscribed to.")}),a.on("load",function(){t=new qe(a.data,e.flag),""===a.data?m("\n[ Connection established. Waiting for incoming text. ]\n        "):m(t.snapshot),l()}),a.on("op",function(e){setTimeout(function(){m(t.applyOp(e))},0)}),function(){a.unsubscribe(),a.destroy(),t=null}},[]),r.a.createElement("div",{className:o||"",style:s||""},u)},Ye=a(227),Ke=(a(322),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={dropdownOpen:!1,isPanelOpen:!1},a.toggle=a.toggle.bind(Object(L.a)(Object(L.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"componentDidMount",value:function(){console.log(this.props.style)}},{key:"render",value:function(){this.props.style;return Te.b.add(Ae.c,Ae.a,Ae.d,Ae.e),r.a.createElement("div",{className:"liveTranscript--buttons_floating"},r.a.createElement(x.c,{size:"lg"},r.a.createElement(x.b,{color:"primary",onClick:this.props.scrollDown},r.a.createElement(xe.a,{icon:"arrow-down"}),"\xa0\xa0Return to Bottom"),r.a.createElement(x.b,{color:"primary",tag:P.a,to:"/transcript-view-tools"},r.a.createElement(xe.a,{icon:"cog"}))))}}]),t}(r.a.Component)),He=a(217),Ge=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0,menuVisible:!1,style:{}},a.scrollDown=a.scrollDown.bind(Object(L.a)(Object(L.a)(a))),a.onLoaded=a.onLoaded.bind(Object(L.a)(Object(L.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onScrollToBottom",value:function(e){e||this.scrollDown()}},{key:"onLoaded",value:function(){this.setState({loading:!1},this.scrollDown)}},{key:"scrollDown",value:function(){setTimeout(function(){He.animateScroll.scrollToBottom({delay:0,duration:200,isDynamic:!0})},0),this.setState({menuVisible:!1})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.user,a=e.job;this.doc=Be.get(t,a)}},{key:"componentWillUnmount",value:function(){this.doc.destroy()}},{key:"render",value:function(){var e=this,t=this.state.menuVisible,a=this.props.style;return r.a.createElement("div",{className:"liveTranscript--container"},t?r.a.createElement(Ke,{scrollDown:this.scrollDown,style:a}):null,r.a.createElement("div",{className:"liveTranscript",onClick:function(){e.setState({menuVisible:!0})}},r.a.createElement(Ve,{cssClass:"liveTranscript--text-format",style:a,doc:this.doc,onLoaded:this.onLoaded,flag:"\u2248",elementType:"div"})),r.a.createElement(Ye.a,{threshold:.1,onChange:function(t){return e.onScrollToBottom(t)}},function(e){e.inView;var t=e.ref;return r.a.createElement("div",{ref:t,className:"liveTranscript--container_observer",style:{backgroundColor:a.backgroundColor}})}))}}]),t}(r.a.Component),$e=a(226),Ze=a(218),Qe=(a(356),a(97));function Xe(){var e=Object(Me.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return Xe=function(){return e},e}var et=Object($e.a)(Xe()),tt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={job:{},jobId:"",loading:!0,user:""},a.docParams=a.props.match.params,a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.findUser(this.docParams.user.toLowerCase()).once("value",function(t){if(!t.val())return e.setState({loading:!1});var a=t.val(),n=Object.keys(a).map(function(e){return Object(B.a)({},a[e])});return n[0].jobs[e.docParams.job.toLowerCase()]?(e.setState({user:n[0].username.toLowerCase(),jobId:n[0].jobs[e.docParams.job.toLowerCase()].id}),e.findJob()):e.setState({loading:!1})})}},{key:"findJob",value:function(){var e=this,t=this.props.firebase,a=this.state.jobId;t.jobById(a).once("value",function(t){if(t.val()){var a=t.val();e.setState({job:a,loading:!1})}})}},{key:"render",value:function(){var e=this.state,t=e.job,a=e.jobId,n=e.loading,l=e.user,o=this.props.style;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(Ze.SyncLoader,{className:et,sizeUnit:"px",size:13,margin:"6px",color:o.color,loading:n})):t&&a&&!0===t.privacy?r.a.createElement("p",null,"this is a private event."):t&&a?r.a.createElement(Ge,{user:l,job:t.slug,style:o}):r.a.createElement("p",null,"No event found with that user/job combination!"))}}]),t}(r.a.Component),at=Object(Qe.a)(function(e){return{style:e.aloft_localstorage.style}},{})(tt),nt=g(at),rt=a(145),lt=a(146),ot=a.n(lt),st=(a(520),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={colors:!1,information:!1,textOptions:!0,file:!1},a.onClick=a.onClick.bind(Object(L.a)(Object(L.a)(a))),a.onStyleChange=a.onStyleChange.bind(Object(L.a)(Object(L.a)(a))),a.goBack=a.goBack.bind(Object(L.a)(Object(L.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onColorChange",value:function(e){var t={id:"color"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onBackgroundColorChange",value:function(e){var t={id:"backgroundColor"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onStyleChange",value:function(e){var t,a={};return a.id=e.target.id,e.target.id,t=Math.abs(e.target.value),e.target.value&&e.target.value>-1&&e.target.value<100?t+="em":t="1em","textTransform"===e.target.id&&(t=e.target.checked?"uppercase":"unset"),a.value=t,console.log(e.target.id,t),console.log("target",e.target.checked),console.log(a),this.props.updateStyle(a)}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"onClick",value:function(e){var t={colors:!1,information:!1,textOptions:!0,file:!1};switch(e){case 1:t.colors=!1,t.information=!1,t.textOptions=!0,t.file=!1;break;case 2:t.colors=!0,t.information=!1,t.textOptions=!1,t.file=!1;break;case 3:t.colors=!1,t.information=!0,t.textOptions=!1,t.file=!1;break;case 4:t.colors=!1,t.information=!1,t.textOptions=!1,t.file=!0}return this.setState({colors:t.colors,information:t.information,textOptions:t.textOptions,file:t.file})}},{key:"render",value:function(){var e=this;Te.b.add(Ae.f);var t=this.props.style,a=t.backgroundColor,n=t.color,l=t.fontSize,o=t.lineHeight,s=t.textTransform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"settings-panel__close-button",onClick:this.goBack},r.a.createElement(xe.a,{icon:"times",onClick:this.goBack})),r.a.createElement(x.n,{className:"transcript-view-tools__container"},r.a.createElement(x.I,null,r.a.createElement(x.l,{md:4,className:"settings-panel__column-left"},r.a.createElement("div",{className:"settings-panel__column-left--header-group"},r.a.createElement("h2",null,"Settings"),r.a.createElement("p",null,"Upwordly version 0.1.0")),r.a.createElement(x.A,null,r.a.createElement(x.B,{onClick:function(){return e.onClick(1)},active:this.state.textOptions,action:!0},"Text Appearance"),r.a.createElement(x.B,{onClick:function(){return e.onClick(2)},active:this.state.colors,action:!0},"Colors"),r.a.createElement(x.B,{onClick:function(){return e.onClick(3)},active:this.state.information,action:!0},"Information"),r.a.createElement(x.B,{onClick:function(){return e.onClick(4)},active:this.state.file,action:!0},"Transcript File")),r.a.createElement("div",{className:"vertical-padding-5em"}),r.a.createElement(x.b,{color:"danger",onClick:this.props.resetStyle},"Reset to default")),r.a.createElement(x.l,{md:8,className:"settings-panel__column-right"},r.a.createElement("div",{className:"settings-panel__column-right-settings",hidden:!this.state.textOptions},r.a.createElement("div",{className:"settings-panel__column-right--header-group"}),r.a.createElement(x.r,null,r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"fontFamily",sm:6},"Font family"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.L,null,r.a.createElement(x.q,{caret:!0},"Dropdown"),r.a.createElement(x.p,null,r.a.createElement(x.o,{header:!0},"Header"),r.a.createElement(x.o,{disabled:!0},"Action"),r.a.createElement(x.o,null,"Another Action"),r.a.createElement(x.o,{divider:!0}),r.a.createElement(x.o,null,"Another Action"))))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"fontSize",sm:6},"Font size"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.w,null,r.a.createElement(x.v,{type:"text",name:"fontSize",id:"fontSize",placeholder:"(e.g. 3)",defaultValue:l&&l.split("e")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(x.x,{addonType:"append"},"em")))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"lineHeight",sm:6},"Line Height"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.w,null,r.a.createElement(x.v,{type:"text",name:"lineHeight",id:"lineHeight",placeholder:"(e.g. 1)",defaultValue:o&&o.split("e")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(x.x,{addonType:"append"},"em")))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"textTransform",sm:6},"All caps"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.t,{check:!0},r.a.createElement(x.z,{check:!0},r.a.createElement(x.v,{type:"checkbox",name:"textTransform",id:"textTransform",defaultChecked:"uppercase"===s,onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement("span",{className:"form-check-sign"},r.a.createElement("span",{className:"check"}))))))),r.a.createElement(x.d,{style:{backgroundColor:this.props.style.backgroundColor}},r.a.createElement(x.i,{top:!0,width:"100%",src:ot.a,alt:"Captions Preview"}),r.a.createElement(x.e,{className:"settings-panel__column-right--preview"},r.a.createElement(x.j,{style:this.props.style},"Hello, hello, baby. You called, I can't hear a thing. I have got no service in the club, you see, see. Wha-wha-what did you say? Oh, you're breaking up on me. Sorry, I cannot hear you. I'm kinda busy. K-kinda busy. K-kinda busy. Sorry, I cannot hear you. I'm kinda busy")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.colors},r.a.createElement(x.I,null,r.a.createElement(x.l,{sm:6},r.a.createElement(rt.ChromePicker,{color:n,id:"color",name:"color",onChangeComplete:function(t){return e.onColorChange(t)}}),r.a.createElement(x.z,{for:"textColor",sm:12},"Text color")),r.a.createElement(x.l,{sm:6},r.a.createElement(rt.ChromePicker,{color:a,id:"backgroundColor",name:"backgroundColor",onChangeComplete:function(t){return e.onBackgroundColorChange(t)}}),r.a.createElement(x.z,{for:"backgroundColor",sm:12},"Background color"))),r.a.createElement(x.d,{style:{backgroundColor:this.props.style.backgroundColor}},r.a.createElement(x.i,{top:!0,width:"100%",src:ot.a,alt:"Captions Preview"}),r.a.createElement(x.e,{className:"settings-panel__column-right--preview"},r.a.createElement(x.j,{style:this.props.style},"Hello, hello, baby. You called, I can't hear a thing. I have got no service in the club, you see, see. Wha-wha-what did you say? Oh, you're breaking up on me. Sorry, I cannot hear you. I'm kinda busy. K-kinda busy. K-kinda busy. Sorry, I cannot hear you. I'm kinda busy")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.information},r.a.createElement("h3",null,"Information"),r.a.createElement(x.y,null,r.a.createElement("p",{className:"lead"},"This is a simple hero unit, a simple Jumbotron-style component for calling extra attention to featured content or information."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",null,"It uses utility classes for typography and spacing to space content out within the larger container."),r.a.createElement("p",{className:"lead"},r.a.createElement(x.b,{color:"primary"},"Learn More")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.file},r.a.createElement("h3",null,"Transcript File"))))))}}]),t}(r.a.Component)),ct=Object(Qe.a)(function(e){return{style:e.aloft_localstorage.style}},function(e){return{updateStyle:function(t){return e(function(e){return{type:"UPDATE_STYLE",payload:e}}(t))},resetStyle:function(){return e({type:"RESET_STYLE",payload:""})}}})(st),it=k(function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{path:"/account",component:le}),r.a.createElement(c.a,{path:"/admin",component:ce}),r.a.createElement(c.a,{path:S,component:je}),r.a.createElement(c.a,{exact:!0,path:"/",component:W}),r.a.createElement(c.a,{path:"/signup",component:q}),r.a.createElement(c.a,{path:"/signin",component:te}),r.a.createElement(c.a,{path:"pw-change",component:re}),r.a.createElement(c.a,{path:"/pw-forget",component:G}),r.a.createElement(c.a,{path:"/transcript-view-tools",component:ct}),r.a.createElement(c.a,{path:"/editor",component:Re}),r.a.createElement(c.a,{path:"/:user/:job",component:nt})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ut=a(70),mt=a(58),dt={aloft_localstorage:{style:{backgroundColor:"#262A38",color:"#F2F2F2",fontSize:"3em",fontFamily:"Cousine, sans-serif",lineHeight:"1.5em",margin:"0",textTransform:"unset"}}},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STYLE":return Object.assign({},e,{aloft_localstorage:{style:Object(B.a)({},e.aloft_localstorage.style,Object(_.a)({},t.payload.id,t.payload.value))}});case"RESET_STYLE":return Object.assign({},e,{aloft_localstorage:{style:dt.aloft_localstorage.style}});default:return e}},pt=a(221),bt=a(222),gt=a(223),ft=function(){try{var e=localStorage.getItem("aloft_localstorage");return null===e?dt:JSON.parse(e)}catch(t){return dt}}(),Et=Object(mt.createStore)(ht,ft,Object(bt.composeWithDevTools)(Object(mt.applyMiddleware)(pt.a)));Et.subscribe(Object(gt.throttle)(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("aloft_localstorage",t)}catch(a){}}({aloft_localstorage:Et.getState().aloft_localstorage})}));var vt=Et;a(522);o.a.render(r.a.createElement(f.Provider,{value:new w},r.a.createElement(ut.a,{store:vt},r.a.createElement(it,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[229,2,1]]]);
//# sourceMappingURL=main.18e5aae1.chunk.js.map