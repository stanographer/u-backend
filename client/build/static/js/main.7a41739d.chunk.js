(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){e.exports=a.p+"static/media/aloft_browser_bar.2d1da67c.png"},207:function(e,t,a){e.exports=a.p+"static/media/hero-palm-2.aa68f9f9.png"},208:function(e,t,a){e.exports=a.p+"static/media/bg-1000k.9ddb429f.webm"},209:function(e,t,a){e.exports=a.p+"static/media/bg-1000k.d5ced890.mp4"},226:function(e,t,a){e.exports=a(522)},233:function(e,t,a){},235:function(e,t,a){},237:function(e,t,a){},315:function(e,t,a){},317:function(e,t,a){},321:function(e,t,a){},328:function(e,t,a){},355:function(e,t,a){},520:function(e,t,a){},522:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(26),l=a.n(o),s=(a(231),a(233),a(235),a(237),a(525)),c=a(524),i=r.a.createContext(null),u=a(7),m=a(8),d=a(10),h=a(9),p=a(11),f=r.a.createContext(null),b=function(e){return function(t){return r.a.createElement(f.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},g=f,E=a(97),v=a.n(E),y=(a(284),a(286),{apiKey:"AIzaSyD9kUhusklUOTC36blxrrGYILIaPd3e7Bw",authDomain:"aloft-53221.firebaseapp.com",databaseURL:"https://aloft-53221.firebaseio.com",projectId:"aloft-53221",storageBucket:"aloft-53221.appspot.com",messagingSenderId:"439623820482"}),w=function e(){var t=this;Object(u.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doCreateUserWithEmailLink=function(e,a){return t.auth.sendSignInLinkToEmail(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithEmailLink=function(e){return t.auth.signInWithEmailLink(e)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.findUser=function(e){return t.db.ref("users").orderByChild("username").equalTo(e)},this.deleteJobFromUser=function(e){return t.user(t.auth.currentUser.uid).child("jobs").child(e).remove()},this.allJobs=function(){return t.db.ref("jobs")},this.allJobsList=function(){return t.db.ref("jobs").orderByKey()},this.jobById=function(e){return t.db.ref("/jobs/".concat(e))},this.jobsBySlug=function(e){return t.db.ref("jobs").orderByChild("slug").equalTo(e)},this.deleteJobFromJobs=function(e){return t.db.ref("jobs").child("".concat(e)).remove()},this.events=function(){return t.db.ref("events")},v.a.initializeApp(y),this.auth=v.a.auth(),this.db=v.a.database()},j=function(e){var t=function(t){function a(e){var t;return Object(u.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).state={authUser:null},t}return Object(p.a)(a,t),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(i.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return b(t)},O=a(526),k=a(27),C="/dashboard",S=function(e){return function(t){var a=function(a){function n(){return Object(u.a)(this,n),Object(d.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(p.a)(n,a),Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(i.Consumer,null,function(n){return e(n)?r.a.createElement(t,a.props):null})}}]),n}(r.a.Component);return Object(k.a)(O.a,b)(a)}},N=a(5),x=a(223),T=function(){function e(t,a){Object(u.a)(this,e),this.snapshot=t,this.flag=a}return Object(m.a)(e,[{key:"applyOp",value:function(t){return this.snapshot=e.transformSnapshot(t,this.snapshot),this.snapshot}}],[{key:"transformSnapshot",value:function(e,t){console.log(e);for(var a=[],n=0;n<e.length;n++){var r=e[n];switch(typeof r){case"number":a.push(t.slice(0,r)),t=t.slice(r);break;case"string":a.push(r);break;case"object":t=t.slice(r.d)}}return a.join("")+t}}]),e}();var P=function(e){console.log(e);var t,a=e.doc,o=e.onLoaded,l=e.cssClass,s=e.style,c=Object(n.useState)(""),i=Object(x.a)(c,2),u=i[0],m=i[1];return Object(n.useEffect)(function(){return a.subscribe(function(e){e&&m("There was a connection error: "+e),null===a.type&&m("This document could not be subscribed to.")}),a.on("load",function(){t=new T(a.data,e.flag),""===a.data?m("\n[ Connection established. Waiting for incoming text. ]\n        "):m(t.snapshot),o()}),a.on("op",function(e){setTimeout(function(){m(t.applyOp(e))},0)}),function(){a.unsubscribe(),a.destroy(),t=null}},[]),r.a.createElement("div",{className:l||"",style:s||""},u)},D=a(95),L=(a(155),a(2)),I=a(523),J=a(69),z=a(45),_=a(47),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={dropdownOpen:!1,isPanelOpen:!1},a.toggle=a.toggle.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"componentDidMount",value:function(){console.log(this.props.style)}},{key:"render",value:function(){this.props.style;return z.b.add(_.b,_.a,_.c,_.d),r.a.createElement("div",{className:"liveTranscript--buttons_floating"},r.a.createElement(L.c,{size:"lg"},r.a.createElement(L.b,{color:"primary",onClick:this.props.scrollDown},r.a.createElement(J.a,{icon:"arrow-down"}),"\xa0\xa0Return to Bottom"),r.a.createElement(L.b,{color:"primary",tag:I.a,to:"/transcript-view-tools"},r.a.createElement(J.a,{icon:"cog"}))))}}]),t}(r.a.Component),A=a(91),B=a(139),R=a.n(B),W=a(206),M=a(70),q=a.n(M),F=window.location.hostname,V=new W.a("wss://"+F+":9090",[],{automaticOpen:!0,maxReconnectionDelay:2e3,reconnectInterval:2e3,maxReconnectInterval:3e3,timeoutInterval:2e3,maxRetries:1/0}),H=new R.a.Connection(V);R.a.types.register(q.a.type);var Y=H,G=a(207),K=a.n(G),$=a(208),X=a.n($),Z=a(209),Q=a.n(Z),ee=(a(315),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0,menuVisible:!1,style:{}},a.scrollDown=a.scrollDown.bind(Object(N.a)(Object(N.a)(a))),a.onLoaded=a.onLoaded.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onScrollToBottom",value:function(e){e||this.scrollDown()}},{key:"onLoaded",value:function(){this.setState({loading:!1},this.scrollDown)}},{key:"scrollDown",value:function(){setTimeout(function(){A.animateScroll.scrollToBottom({delay:0,duration:200,isDynamic:!0})},0),this.setState({menuVisible:!1})}},{key:"componentWillMount",value:function(){this.doc=Y.get("stanley","coachella"),document.title="Coachella 2019 Realtime Captions"}},{key:"componentWillUnmount",value:function(){this.doc.destroy()}},{key:"render",value:function(){var e=this;console.log(this.doc);return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement("div",{className:"coachella-contentPanel"},r.a.createElement(L.l,{className:"coachella-caption__box",fluid:!0},r.a.createElement("h2",{className:"coachella-header"},"NOW LISTENING TO:"),r.a.createElement("p",{className:"coachella-header__small"},"Ellie Goulding, Diplo, Swae Lee"),r.a.createElement("p",{className:"coachella-header__small"},'"Close To Me"'),r.a.createElement("div",{className:"ResponsiveImage-slot"},r.a.createElement("img",{src:K.a,alt:"Palm"})),r.a.createElement("div",{className:"liveTranscript",onClick:function(){e.setState({menuVisible:!0})}},r.a.createElement(P,{cssClass:"liveTranscript--text-format",style:{backgroundColor:"#fff",color:"#000",fontSize:"3em",fontFamily:"Poppins, sans-serif",lineHeight:"1.5em",margin:"0",textTransform:"unset"},doc:this.doc,onLoaded:this.onLoaded,flag:"\u2248",elementType:"div"})),r.a.createElement(D.a,{threshold:.1,onChange:function(t){return e.onScrollToBottom(t)}},function(e){e.inView;var t=e.ref;return r.a.createElement("div",{ref:t,className:"liveTranscript--container_observer",style:{backgroundColor:"#fff"}})}))),r.a.createElement(ae,null))}}]),t}(r.a.Component)),te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(N.a)(Object(N.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L.D,{color:"light",light:!0,expand:"md",fixed:"true"},r.a.createElement(L.E,{href:"/"},r.a.createElement(ne,{className:"icon icon-coachella_nav"})),r.a.createElement(L.F,{onClick:this.toggle}),r.a.createElement(L.k,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(L.A,{className:"ml-auto",navbar:!0},r.a.createElement(L.B,null,r.a.createElement(L.C,{href:"#"},"MUSIC")),r.a.createElement(L.B,null,r.a.createElement(L.C,{href:"#"},"PASSES")),r.a.createElement(L.J,{nav:!0,inNavbar:!0},r.a.createElement(L.o,{nav:!0,caret:!0},"EXPERIENCE"),r.a.createElement(L.n,{right:!0},r.a.createElement(L.m,null,"Option 1"),r.a.createElement(L.m,null,"Option 2"),r.a.createElement(L.m,{divider:!0}),r.a.createElement(L.m,null,"Reset"))),r.a.createElement(L.B,null,r.a.createElement(L.C,{href:"#"},"ACCESSIBILITY"))))))}}]),t}(r.a.Component),ae=function(){return r.a.createElement("div",{className:"TheBackground"},r.a.createElement("video",{autoPlay:!0,playsInline:"true",loop:"loop",muted:"muted",preload:"none","aria-label":"",className:"TheBackgroundVideo"},r.a.createElement("source",{src:X.a,type:"video/webm"}),r.a.createElement("source",{src:Q.a,type:"video/mp4"})))},ne=function(){return r.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 90 15",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("path",{fill:"nonzero",d:"M23.989 1.254c.716-.135.937.407 1.12.95.533 1.57 1.047 3.14 1.525 4.728.238.795.293 1.648.973 2.229-.294.698.183 1.318.22 1.996.019.523.147 1.027.202 1.531.019.233.019.504-.037.736-.036.175-.202.388-.33.407-.147.02-.367-.135-.44-.29-.46-.97-.937-1.938-1.286-2.946-.22-.6-.368-.872-1.066-.736-1.193.252-2.424.31-3.636.523-.238.039-.496.368-.642.62-.368.62-.662 1.318-1.047 1.919-.129.193-.514.387-.698.33-.367-.117-.35-.466-.22-.854.348-1.046.716-2.093.991-3.158.404-1.531.698-3.101 1.084-4.652.165-.678.312-1.356.606-1.996.496-1.162 1.56-1.337 2.681-1.337zm-1.965 6.802c1.102.194 2.075.35 3.214.543-.441-.795-.772-1.473-1.176-2.093-.275-.407-.716-.484-1.028-.058-.367.465-.643.988-1.01 1.608zm35.44-4.831c-.845.113-1.71.208-2.555.36-.846.15-1.104.68-.901 1.588.147.682.607.947 1.397.757.717-.17 1.416-.397 2.115-.548.276-.057.772-.02.846.132.165.378.257.87.165 1.287-.037.208-.496.454-.772.492-.754.094-1.545.094-2.299.132-.956.057-1.268.473-1.03 1.438.185.7.405 1.4.626 2.081.257.795.79 1.117 1.636 1.041.846-.076 1.692-.132 2.52-.246 1.066-.132 1.47.227 1.378 1.362-.073.928-.367 1.25-1.232 1.192a13.069 13.069 0 0 1-2.408-.397c-1.38-.34-2.722-.776-4.1-1.154-.552-.151-.626-.511-.552-1.022.11-.7.184-1.4.33-2.081.13-.662.148-1.23-.422-1.76-.368-.36.018-.7.257-.946.846-.87.828-1.949-.073-2.725-.552-.454-.497-.813.128-1.116 1.361-.681 2.722-1.4 4.1-2.081 1.03-.511 2.06-.095 3.071.113.13.02.295.436.258.644a1.757 1.757 0 0 1-1.857 1.551l-.644-.057c.019 0 .019-.019.019-.037zM86.14 1.242c.402-.077.64.348.804.832.402 1.16.786 2.32 1.17 3.5.293.91.53 1.838.823 2.747a.927.927 0 0 0 .33.464c.328.213.53.406.219.793a.387.387 0 0 0-.037.252c.146.89.293 1.779.457 2.669.018.135.11.27.092.386-.092.33-.238.639-.348.948-.2-.193-.475-.348-.585-.58a49.375 49.375 0 0 1-1.298-2.843c-.165-.406-.238-.658-.805-.58-.73.116-1.48-.02-2.23-.058-1.152-.059-1.975.348-2.414 1.585-.2.6-.603 1.142-.969 1.664-.11.154-.457.29-.567.213-.164-.117-.31-.445-.274-.62.201-.831.512-1.624.732-2.456.457-1.76.895-3.52 1.316-5.28.201-.831.274-1.682.841-2.379.695-.812 1.554-1.16 2.743-1.257zm1.042 7.35c-.549-1.2-.97-2.244-1.481-3.25-.256-.502-.695-.406-.878.136-.292.85-.548 1.702-.84 2.61 1.041.156 2.01.31 3.199.504zM42.499.766c.152.424.305.732.343 1.04.152 1.52.267 3.06.362 4.581.02.366.133.482.515.52.972.058 1.964.116 2.917.327.61.135.762-.077.781-.596.039-1.232.039-2.484.134-3.716.038-.673.21-1.328.324-2.002h.362c.077.347.172.674.21 1.02.153 1.79.267 3.581.4 5.314.477.192.916.365 1.354.539v.25c-.381.134-.744.25-1.22.404.057.693.171 1.444.19 2.194.02.905 0 1.81-.057 2.695-.038.597-.4.944-.991.963-.648.02-.972-.27-.992-1.001-.038-1.367 0-2.734 0-4.081v-.616c-1.163.173-2.306.346-3.374.52v2.926c0 .365 0 .731-.038 1.078-.115.827-.515 1.174-1.278 1.155-.838-.02-1.124-.29-1.22-1.194-.171-2.002.02-3.985.286-5.967.21-1.444.21-2.926.305-4.39.02-.615 0-1.289.687-1.963zM12.26 3.267c-.111-.625.536-1.477 1.182-1.515.832-.056 1.718-.113 2.513.095.462.114.923.7 1.145 1.174.665 1.42 1.146 2.916.942 4.544-.203 1.61-.868 2.972-2.013 4.052-.813.757-1.885.833-2.938.814-1.145 0-1.884-.587-2.55-1.534C8.9 8.493 9.38 5.236 10.71 3.172c.018-.038.11-.038.351-.132-.074.454-.13.814-.203 1.174-.333 1.458-.388 2.896.48 4.222.74 1.155 2.217 1.495 3.362.776a3.457 3.457 0 0 0 1.552-3.503c-.11-.605-.203-1.23-.425-1.798-.498-1.23-1.792-1.629-2.9-.947-.222.095-.443.19-.665.303zM7.848 14.3c-3.21-.21-5.66-1.563-7.236-4.25-.57-.933-.76-1.981-.494-3.2C.555 4.847 1.6 3.247 2.853 1.761c.399-.477.93-.725 1.633-.705.874.019 1.748-.23 2.621-.286.38-.02 1.026.019 1.12.247.229.458-.284.705-.664.896-.627.343-1.253.667-1.842 1.048-1.026.667-2.032 1.315-2.678 2.44-.76 1.333-1.158 2.686-.779 4.21.038.153.057.305.152.438.969 1.525 2.184 2.687 4.084 2.859.683.057 1.367.152 2.032.267.19.038.531.285.512.362-.057.228-.227.514-.436.61-.228.133-.57.114-.76.152zM36.27.3c.51.096 1.02.154 1.494.29.164.038.42.309.383.406a.975.975 0 0 1-.4.541c-.274.155-.602.213-.912.31-2.88.889-4.284 2.957-4.52 5.953-.201 2.34 2.095 4.988 4.046 5.123.656.039 1.312.136 1.95.271.2.039.383.251.583.387-.145.212-.291.618-.455.638-.656.077-1.33.135-1.969 0-2.424-.503-4.338-1.876-5.632-4.137-.602-1.064-.602-2.282-.456-3.441.2-1.508.729-2.939 1.713-4.08.711-.85 1.531-1.643 2.625-1.952.474-.174 1.021-.213 1.55-.31zm32.026 13.53c-.27-.077-.702-.268-1.152-.363-1.17-.229-2.358-.42-3.528-.63-.45-.095-.9-.209-1.35-.362-.126-.038-.306-.228-.306-.343 0-.114.162-.286.288-.362.27-.172.72-.248.828-.496.198-.458.288-1.01.306-1.545.054-1.468.036-2.917.072-4.386.018-.896.018-1.792.054-2.689.018-.515.108-1.01.216-1.506.036-.153.234-.267.36-.382.126.134.324.248.36.42.144.839.252 1.678.342 2.517.198 1.907.36 3.814.558 5.721.036.324.126.649.216.973.27.839 1.044 1.201 1.836.877.27-.114.558-.248.846-.248.468 0 .792.229.792.82 0 .439.072.877.144 1.316.09.439-.162.706-.882.667zm3.614-1.466c.107-.21.16-.458.303-.61.696-.706.803-1.66.839-2.594.054-2.309.018-4.636.018-6.944 0-.381.071-.763.178-1.106.036-.153.25-.344.375-.344.125.02.34.23.357.382.125.706.214 1.412.268 2.117.196 2.194.375 4.388.571 6.581.107 1.088.429 1.355 1.678 1.431.41.02.84.02 1.214.153.607.19 1.16 1.43.928 2.04-.071.172-.392.363-.589.363-2.07-.038-4.016-.687-5.98-1.278a.606.606 0 0 0-.16-.19z"}))},re=ee,oe=function(){return r.a.createElement(L.l,null,r.a.createElement("div",{className:"vertical-padding-5em"}),r.a.createElement("h1",null,"Upwordly coming soon..."),r.a.createElement("h2",null,"January 2019!"))},le=a(20),se=a(15),ce={fullName:"",fullNameValid:null,parsedName:{},username:"",usernameIsValid:null,email:"",emailValid:null,emailAvailable:null,passwordOne:"",passwordTwo:"",passwordStrength:{},privilegeLevel:"",usersList:[],error:null},ie=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.parsedName,r=t.username,o=t.email,l=t.passwordOne,s=t.privilegeLevel;a.props.firebase.doCreateUserWithEmailAndPassword(o,l).then(function(e){return a.props.firebase.user(e.user.uid).set({firstName:n.first,lastName:n.last,privilegeLevel:s,username:r,email:o})}).then(function(e){a.setState(Object(se.a)({},ce)),a.props.history.push(C)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){"passwordOne"===e.target.name&&a.analyzePassword(e.target.value),"fullName"===e.target.name&&a.parseName(e.target.value),"email"===e.target.name&&a.onTypeEmail(e.target.value),a.setState(Object(le.a)({},e.target.name,e.target.value))},a.onTypeEmail=function(e){a.timeOut&&clearTimeout(a.timeOut),a.timeOut=setTimeout(function(){a.props.firebase.users().once("value",function(e){if(!e.val())return a.setState({emailAvailable:!0});var t=e.val();if(console.log(e.val()),e.val()){var n=Object.keys(t).map(function(e){return Object(se.a)({},t[e],{uid:e})});console.log(n)}}).catch(function(e){return console.log("error! "+e)})},3e3)},a.validateEmail=function(e){var t=e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i);return console.log("test",t.test(e)),a.setState({emailValid:t.test(e)})},a.parseName=function(e){console.log(e);var t=e.trim();try{var n={firstName:"",middleName:"",lastName:""},r=t.split(" ");switch(r.length){case 1:n.firstName=r[0],a.setState({fullNameValid:!1,error:"You must supply at minimum a first and last name."});break;case 2:n.firstName=r[0],n.lastName=r[1],a.setState({error:""});break;case 3:n.firstName=r[0],n.middleName=r[1],n.lastName=r[2],a.setState({error:""});break;default:a.setState({fullNameValid:!1,error:"Names must be at maximum three components long: first name, middle name, last name."})}if(!n.firstName||!n.lastName)return;return a.setState({fullNameValid:!0,parsedName:{first:n.firstName,middle:n.middleName?n.middleName:"",last:n.lastName}})}catch(o){a.setState({fullNameValid:!1,error:"Name can only have at most three components: a first, middle, and a last name."})}},a.analyzePassword=function(e){var t={strength:"weak",message:"Must be longer than 0 characters."},n={all:new RegExp("^(?=.*[A-Za-z.s_-])(?=.*[0-9])(?=.*[!@#$%^&*()><,.'\":;=+])(?=.{6,})"),atLeastSix:new RegExp("^(?=.{6,})"),containsAlpha:new RegExp("^(?=.*[A-Za-z.s_-])"),containsNum:new RegExp("^(?=.*[0-9])"),containsSymbol:new RegExp("^(?=.*[!@#$%^&*()?><,.'\":;=+])"),isntCommon:new RegExp("^(?!.*pass|.*word|.*1234|.*123|.*qwer|.*asdf|.*home|.*hello|.*welcome)")};switch(e&&e.length>0){case!n.atLeastSix.test(e):t.message="Password must at least 6 characters.",t.strength="medium";break;case!n.containsAlpha.test(e):t.strength="weak",t.message="Password must contain letters.";break;case!n.containsSymbol.test(e):t.strength="medium",t.message="Password must contain at least one symbol (!, @, #, $, etc.).";break;case!n.isntCommon.test(e):t.strength="weak",t.message='Password must not contain common sequences ("pass", "qwerty", "1234", etc.).';break;case!n.containsNum.test(e):t.message="Password must contain at least 1 numeral.",t.strength="medium";break;case n.all.test(e):t.strength="strong",t.message="Password is nice and strong."}return a.setState({passwordStrength:t})},a.state=ce,a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){this.props.firebase&&this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.fullNameValid,a=e.username,n=e.email,o=e.emailValid,l=e.emailAvailable,s=e.passwordOne,c=e.passwordTwo,i=e.passwordStrength,u=e.error;""===a||""===t||""===n||""===c||i.strength;return r.a.createElement(L.l,null,r.a.createElement("h1",null,"Aloft Sign-Up"),r.a.createElement(L.p,{onSubmit:this.onSubmit},r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"Full Name",sm:2,size:"lg"},"Full Name"),r.a.createElement(L.j,{sm:10},r.a.createElement(L.t,{bsSize:"lg",onChange:this.onChange,type:"text",name:"fullName",id:"fullName",placeholder:"(i.e. Charles Li)",valid:t}),r.a.createElement(L.q,{valid:!0},"Sweet! That name works!"))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{size:"lg",for:"Email",sm:2},"Email"),r.a.createElement(L.j,{sm:10},r.a.createElement(L.t,{bsSize:"lg",type:"text",name:"email",id:"email",placeholder:"(i.e. charlesli@gmail.com)",value:n,onChange:this.onChange,valid:o&&l}),r.a.createElement(L.q,{valid:this.state.emailAvailable},"Sweet! that email is valid and available!"),o&&!l?r.a.createElement(L.q,{invalid:"true"},"The email is valid but is not available."):"",o?"":r.a.createElement(L.q,{invalid:"true"},"The email is badly formatted."))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"username",sm:2,size:"lg"},"Username"),r.a.createElement(L.j,{sm:10},r.a.createElement(L.t,{type:"text",name:"username",value:a,onChange:this.onChange,id:"username",placeholder:"(i.e. licharles",bsSize:"lg"}))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{size:"lg",for:"passwordOne",sm:2},"Password"),r.a.createElement(L.j,{sm:10},r.a.createElement(L.t,{type:"password",name:"passwordOne",id:"passwordOne",placeholder:"Password",bsSize:"lg",value:s,onChange:this.onChange,valid:"strong"===i.strength,invalid:"strong"!==i.strength&&s.length>0}),"strong"===i.strength?r.a.createElement(L.q,{valid:!0},this.state.passwordStrength.message):null,"medium"===i.strength?r.a.createElement(L.q,{invalid:"true"},this.state.passwordStrength.message):null,"weak"===i.strength?r.a.createElement(L.q,{invalid:"true"},this.state.passwordStrength.message):null,r.a.createElement(L.s,null,"Passwords must be at least 6 characters long, 1 numeric character, and 1 special character (@,%,^,*, etc.)."))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"passwordOne",sm:2,size:"lg"},"Confirm password"),r.a.createElement(L.j,{sm:10},r.a.createElement(L.t,{type:"password",name:"passwordTwo",id:"passwordTwo",placeholder:"Confirm password",bsSize:"lg",value:c,onChange:this.onChange,valid:s===c&&""!==c,invalid:s!==c&&c.length>0}),s===c?r.a.createElement(L.q,{valid:!0},"Nice! Passwords are looking good!"):null,s!==c?r.a.createElement(L.q,{invalid:"true"},"Confirmation password must match original."):null)),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"privilegeLevel",sm:2,size:"lg"},"Privilege level"),r.a.createElement(L.j,{sm:10},r.a.createElement(L.t,{bsSize:"lg",value:this.state.privilegeLevel,onChange:this.onChange,type:"select",id:"privilegeLevel",name:"privilegeLevel"},r.a.createElement("option",{value:"provider"},"Provider (stenographer)"),r.a.createElement("option",{value:"consumer"},"Consumer"),r.a.createElement("option",{value:"admin"},"Administrator")))),u&&r.a.createElement(L.a,{color:"danger"},u||u.message),r.a.createElement(L.b,{color:"primary",size:"lg",block:!0,type:"submit"},"Create new account")))}}]),t}(n.Component),ue=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(I.a,{to:"/signup"},"Sign Up"))},me=Object(k.a)(O.a,b)(ie),de={email:"",error:null},he=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(se.a)({},de))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(le.a)({},e.target.name,e.target.value))},a.state=Object(se.a)({},de),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),t}(n.Component),pe=function(){return r.a.createElement("p",null,r.a.createElement(I.a,{to:"/pw-forget"},"Forgot Password?"))},fe=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(be,null))},be=b(he),ge=(a(317),{email:"",password:"",error:null}),Ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then(function(){a.setState(Object(se.a)({},ge)),a.props.history.push(C)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(le.a)({},e.target.name,e.target.value))},a.state=Object(se.a)({},ge),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return r.a.createElement("div",null,r.a.createElement(L.p,{onSubmit:this.onSubmit},r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"email",sm:4,size:"lg"},"Email"),r.a.createElement(L.j,{sm:8},r.a.createElement(L.t,{required:!0,value:t,onChange:this.onChange,type:"email",name:"email",id:"email",bsSize:"lg"}),r.a.createElement("span",{className:"floating-label"},"Your email address"))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"password",sm:4,size:"lg"},"Password"),r.a.createElement(L.j,{sm:8},r.a.createElement(L.t,{required:!0,value:a,onChange:this.onChange,type:"password",name:"password",id:"password",bsSize:"lg"}),r.a.createElement("span",{className:"floating-label"},"Your password"))),n&&r.a.createElement(L.I,{color:"danger"},n.message),r.a.createElement(L.b,{disabled:o,type:"submit",size:"lg",block:!0},"Sign In")))}}]),t}(n.Component),ve=Object(k.a)(O.a,b)(Ee),ye=function(){return r.a.createElement("div",{className:"login__form"},r.a.createElement(L.l,null,r.a.createElement(L.G,null,r.a.createElement(L.j,{md:3}),r.a.createElement(L.j,{md:6},r.a.createElement("h2",{className:"login__form-header"},"Upwordly"),r.a.createElement(ve,null),r.a.createElement(pe,null),r.a.createElement(ue,null)),r.a.createElement(L.j,{md:3}))))},we={passwordOne:"",passwordTwo:"",error:null},je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(se.a)({},we))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(le.a)({},e.target.name,e.target.value))},a.state=Object(se.a)({},we),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,o=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:o,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component),Oe=b(je),ke=S(function(e){return!!e})(function(){return r.a.createElement(i.Consumer,null,function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account Page"),r.a.createElement(be,null),r.a.createElement(Oe,null))})}),Ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,message:"",users:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var a=t.val();if(a){var n=Object.keys(a).map(function(e){return Object(se.a)({},a[e],{uid:e})});e.setState({users:n,loading:!1})}else e.setState({loading:!1,message:"There are currently no users in the database to load."})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.message,a=e.users,n=e.loading;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),n&&r.a.createElement("div",null,"Loading ..."),t&&r.a.createElement("div",null,"There are no users to load."),r.a.createElement(Se,{users:a}))}}]),t}(r.a.Component),Se=function(e){var t=e.users;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username))}))},Ne=b(Ce),xe=b(function(e){var t=e.firebase;return r.a.createElement(L.b,{type:"button",className:"ml-sm-3 d-none d-md-block",onClick:t.doSignOut},"Sign Out")}),Te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(N.a)(Object(N.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props.user,t=e.firstName,a=e.lastName;return r.a.createElement("div",null,r.a.createElement(L.D,{className:"navbar-horizontal navbar-expand-lg",expand:"md"},r.a.createElement(L.E,{href:"/"},"Upwordly"),r.a.createElement(L.F,{onClick:this.toggle}),r.a.createElement(L.k,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(L.A,{className:"ml-auto",navbar:!0},r.a.createElement(L.B,null,r.a.createElement(L.C,{href:"/dashboard/"},"Dashboard")),r.a.createElement(L.J,{nav:!0,inNavbar:!0},r.a.createElement(L.o,{nav:!0,caret:!0},t," ",a),r.a.createElement(L.n,{right:!0},r.a.createElement(L.m,null,"Option 1"),r.a.createElement(L.m,null,"Option 2"),r.a.createElement(L.m,{divider:!0}),r.a.createElement(L.m,null,"Reset"))),r.a.createElement(L.B,null,r.a.createElement(xe,null))))))}}]),t}(r.a.Component),Pe=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(I.a,{to:"/signin"},"Sign In")),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/"},"Landing"))))},De=function(e){return r.a.createElement(i.Consumer,null,function(t){return t?r.a.createElement(Te,e):r.a.createElement(Pe,null)})},Le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){var t=new RegExp("^[a-z0-9_-]*$");console.log(a.state),"slug"===e.target.id&&(t.test(e.target.value)?a.setState({error:""}):a.setState({error:"Slug names may only consist of lower case letters, numbers, dashes, and hyphens."}),e.target.value=e.target.value.toLowerCase()),a.setState(Object(le.a)({},e.target.id,e.target.value))},a.onTogglePrivacy=function(){a.setState({privacy:!a.state.privacy})},a.addJob=function(e){a.props.firebase.jobsBySlug(e).once("value",function(e){return e.val()?a.setState({error:"There is already a job with that slug."}):a.addJobToJobs()})},a.addJobToJobs=function(){var e=a.props.firebase,t=a.props.user,n=t.username,r=t.firstName,o=t.lastName,l=a.state,s=l.slug,c=l.title,i=l.speakers,u=l.timeCreated,m=l.privacy,d=l.privacyPassword,h=l.viewCount,p=l.completed;e.allJobs().push({slug:!!s&&s.trim().toLowerCase(),title:!!c&&c.trim(),username:n,userFullName:"".concat(r," ").concat(o),speakers:!!i&&i.trim(),timeCreated:u,privacy:m,privacyPassword:d,viewCount:h,completed:p},function(e){if(e)return a.setState({error:e})}).then(function(e){return a.addJobToUser(s,e)})},a.addJobToUser=function(e,t){var n=a.props.firebase,r=a.props.user.uid;n.user(r).child("jobs").child(e).set({id:t.key},function(e){if(e)return a.setState({error:e})}).then(function(){return a.setState({message:"Job successfully created!"})})},a.onSubmit=function(e){e.preventDefault();var t=a.state.slug;a.addJob(t)},a.state={slug:"",title:"",username:"",speakers:"",timeCreated:(new Date).toUTCString(),privacy:!1,privacyPassword:"",conf:"",viewCount:0,completed:!1,error:"",warningVisible:!0,message:""},a.onWarningDismiss=a.onWarningDismiss.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onWarningDismiss",value:function(){this.setState({warningVisible:!1})}},{key:"componentWillUnmount",value:function(){this.props.firebase.user().off()}},{key:"render",value:function(){var e=this,t=this.props.user.username,a=this.state,n=a.error,o=a.slug,l=a.speakers,s=(a.privacyPassword,a.title),c=""!==n||""===o;return r.a.createElement("div",null,r.a.createElement(L.d,null,r.a.createElement(L.g,null,r.a.createElement("h4",{className:"title d-inline text-primary"},"CREATE NEW JOB"),r.a.createElement("hr",null)),r.a.createElement(L.e,null,r.a.createElement(L.p,{autoComplete:"off"},r.a.createElement(L.G,{form:!0},r.a.createElement(L.j,{md:12},r.a.createElement(L.r,null,r.a.createElement(L.x,{for:"slug"},"URI SLUG (required)"),r.a.createElement(L.t,{autoComplete:"off","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"slug",id:"slug",placeholder:"e.g. srcconpower2018-power-people-of-color",value:this.state.slug,onChange:function(t){return e.onChange(t)}}),o&&!n?r.a.createElement("p",{className:"text-success"},"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(t,"/").concat(o)):"",n&&r.a.createElement("p",{className:"text-warning"},n)),r.a.createElement(L.r,null,r.a.createElement(L.x,{for:"title"},"TITLE"),r.a.createElement(L.t,{autoComplete:"false","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"title",id:"title",placeholder:"e.g. Power to the People\u2014of Color",value:this.state.title,onChange:function(t){return e.onChange(t)}}),s&&!n?r.a.createElement("p",{className:"text-success"},'"'.concat(s,'"')):""),r.a.createElement(L.r,null,r.a.createElement(L.x,{for:"speakers"},"SPEAKER(S)"),r.a.createElement(L.t,{autoComplete:"false","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"speakers",id:"speakers",placeholder:"e.g. Emmanuel Martinez, Julia B. Chan",value:this.state.speakers,onChange:function(t){return e.onChange(t)}}),l&&!n?r.a.createElement("p",{className:"text-success"},'"'.concat(l,'"')):""),r.a.createElement(L.r,{check:!0},r.a.createElement(L.t,{defaultChecked:this.state.privacy,onChange:this.onTogglePrivacy,type:"checkbox",name:"privacy",id:"privacy"}),r.a.createElement("span",{className:"form-check-sign"},r.a.createElement("span",{className:"check"})),r.a.createElement(L.x,{for:"privacy",check:!0},"Private")),r.a.createElement("br",null),r.a.createElement(L.r,{hidden:!this.state.privacy},r.a.createElement(L.t,{autoComplete:"false","data-lpignore":"true",type:"password",bsSize:"lg",required:!0,name:"privacyPassword",id:"privacyPassword",value:this.state.privacyPassword,onChange:function(t){return e.onChange(t)}}),r.a.createElement("br",null),r.a.createElement("p",{className:"text-success"},"Users will have to type in this password to access the transcription.")))))),r.a.createElement(L.f,null,r.a.createElement(L.b,{type:"submit",color:"primary",disabled:c,onClick:function(t){return e.onSubmit(t)}},"CREATE EVENT"))),!!this.state.message&&r.a.createElement("p",null,this.state.message))}}]),t}(r.a.Component),Ie=Object(k.a)(O.a,b,S(function(e){return!!e}))(Le),Je=a(224),ze=a(140),_e=a.n(ze),Ue=a(210);function Ae(){return(Ae=Object(Ue.a)(_e.a.mark(function e(t,a){var n,r,o,l,s;return _e.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(a," (").concat(t,").txt"),e.next=3,fetch("".concat(window.location.protocol,"//").concat(window.location.hostname,"/api?user=").concat(t,"&job=").concat(a));case 3:return r=e.sent,e.next=6,r.text();case 6:return o=e.sent,e.next=9,new Blob([o],{type:"text/plain"});case 9:return l=e.sent,(s=document.createElement("a")).download=n,s.innerHTML="My Hidden Download Link",s.onclick=function(e){return document.body.removeChild(e.target)},s.href=window.URL.createObjectURL(l),s.style.display="none",document.body.appendChild(s),s.click(),e.abrupt("return",o);case 19:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={jobs:[],selectedJobs:[],loading:!0},a.handleJobCheck=a.handleJobCheck.bind(Object(N.a)(Object(N.a)(a))),a.handleDeleteJobs=a.handleDeleteJobs.bind(Object(N.a)(Object(N.a)(a))),a.handleDownloadJobs=a.handleDownloadJobs.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.allJobsList().on("value",function(t){var a=t.val();if(a){var n=Object.keys(a).map(function(e){return Object(se.a)({},a[e],{uid:e})}).reverse();n.forEach(function(t){var a="".concat(window.location.protocol,"//").concat(window.location.hostname);fetch("".concat(a,"/api/snippet?user=").concat(t.username,"&job=").concat(t.slug),{method:"get",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.text()}).then(function(e){t.snippet=e?e+"...":""}).then(function(){e.setState({jobs:n,loading:!1})}).catch(function(){e.setState({jobs:n,loading:!1})})})}else e.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.allJobs().off()}},{key:"handleJobCheck",value:function(e){"checkbox"===e.target.type&&e.target.checked?this.state.selectedJobs&&!this.state.selectedJobs.includes(e.target.name)&&this.setState({selectedJobs:[].concat(Object(Je.a)(this.state.selectedJobs),[e.target.name])}):this.setState({selectedJobs:this.state.selectedJobs.filter(function(t){return t!==e.target.name})})}},{key:"handleDownloadJobs",value:function(e){var t=this.state.selectedJobs;e.preventDefault(),t.forEach(function(e){(function(e,t){return Ae.apply(this,arguments)})(e.split(",")[2],e.split(",")[1]).then(function(){return console.log("success!")}).catch(function(e){return console.error("Failed to fetch the transcript file: "+e)})})}},{key:"handleDeleteJobs",value:function(e){var t=this,a=this.props.firebase,n=this.state.selectedJobs;e.preventDefault(),n.forEach(function(e){t.setState({jobs:t.state.jobs.filter(function(t){return t.uid!==e.split(",")[0]})}),a.deleteJobFromJobs(e.split(",")[0]),a.deleteJobFromUser(e.split(",")[1]),t.deleteShareDbJob(e.split(",")[2],e.split(",")[1])})}},{key:"deleteShareDbJob",value:function(e,t){var a="".concat(window.location.protocol,"//").concat(window.location.hostname);return fetch("".concat(a,"/api?user=").concat(e,"&job=").concat(t),{method:"delete"}).then(function(e){return e.json()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.jobs,n=t.loading;return r.a.createElement("div",null,n?r.a.createElement("p",{className:"text-center"},r.a.createElement("em",null,"Loading...")):r.a.createElement(L.d,{className:"card-tasks"},r.a.createElement(L.g,null,r.a.createElement("h4",{className:"title d-inline text-primary"},"REPOSITORY"),r.a.createElement(L.J,null,r.a.createElement(L.o,{caret:!0,className:"btn-icon",color:"link","data-toggle":"dropdown",type:"button"},r.a.createElement("i",{className:"tim-icons icon-settings-gear-63"})),r.a.createElement(L.n,{"aria-labelledby":"dropdownMenuLink",right:!0},r.a.createElement(L.m,{href:"#",onClick:function(t){return e.handleDownloadJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-cloud-download-93"}),"Download Transcription File"),r.a.createElement(L.m,{href:"#",onClick:function(t){return e.handleDeleteJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-simple-remove"}),"Delete")))),r.a.createElement(L.e,null,r.a.createElement("div",{className:"table-full-width table-responsive"},r.a.createElement(L.H,null,r.a.createElement("tbody",null,r.a.createElement(Re,{handleJobCheck:this.handleJobCheck,jobs:a,hidden:!a||0===a.length})))))))}}]),t}(r.a.Component),Re=function(e){var t=e.handleJobCheck,a=e.jobs;return r.a.createElement(r.a.Fragment,null,!!a&&a.map(function(e){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,r.a.createElement(L.r,{check:!0},r.a.createElement(L.x,{check:!0},r.a.createElement(L.t,{key:e.uid,name:"".concat(e.uid,",").concat(e.slug,",").concat(e.username),type:"checkbox",onChange:function(e){return t(e)}}),r.a.createElement("span",{className:"form-check-sign"},r.a.createElement("span",{className:"check"}))))),r.a.createElement("td",null,r.a.createElement("p",{className:"title text-info"},e.title?e.title:e.slug),r.a.createElement("p",{className:"small text-muted"},new Date(e.timeCreated).toLocaleString()),r.a.createElement("p",null,e.snippet?e.snippet:r.a.createElement("em",null,"This job has no preview."))),r.a.createElement("td",{className:"td-actions text-right"},r.a.createElement(I.a,{color:"link",id:"tooltip636901683",title:"",type:"button",to:"/editor?user=".concat(e.username,"&job=").concat(e.slug)},r.a.createElement("i",{className:"tim-icons icon-pencil"})),r.a.createElement(L.K,{delay:0,target:"tooltip636901683",placement:"right"},"Edit Job")))}))},We=b(Be),Me=(a(321),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={activeTab:"1",user:{},uid:""},a.toggleTab=a.toggleTab.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggleTab",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(De,{user:this.state.user}),r.a.createElement(L.l,{className:"wrapper"},r.a.createElement("div",{className:"vertical-padding-5em"}),r.a.createElement(L.G,null,r.a.createElement(L.j,{lg:"6",md:"12"},r.a.createElement(Ie,{user:this.state.user})),r.a.createElement(L.j,{lg:"6",md:"12"},r.a.createElement(We,null)))))}},{key:"componentDidMount",value:function(){var e=this;document.title="Upwordly Dashboard";var t=this.props.firebase;t.user(t.auth.currentUser.uid).once("value",function(a){var n=a.val();e.setState({user:Object(se.a)({},n,{uid:t.auth.currentUser.uid})})})}}]),t}(r.a.Component)),qe=Object(k.a)(O.a,b,S(function(e){return!!e}))(Me),Fe=a(211),Ve=a.n(Fe),He=a(212),Ye=a.n(He),Ge=a(213),Ke=(a(326),a(328),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={user:"",uid:"",textArea:"",clickToCopyShown:!1},a.query=Ye.a.parse(a.props.location.search),a.sharedTextArea=r.a.createRef(),a.focusTextInput=a.focusTextInput.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=arguments,a=q.a.type;console.log(a),this.doc=Y.get(this.query.user,this.query.job),this.doc.subscribe(function(a){if(a&&e.setState({error:"Could not subscribe to the document."}),!e.doc.type){console.log("Creating document...");var n=q.a.type.name;e.doc.create("",n,!0,function(){return console.log(t)})}console.log(e.doc),function(e,t){var a;e.value=t.data;var n=[];e.onkeydown=function(t){if("Tab"===t.key){t.preventDefault();var a=e.value,n=e.selectionStart,r=e.selectionEnd;return e.value=a.substring(0,n)+"\t"+a.substring(r),e.selectionStart=e.selectionEnd=n+1,!1}};var r=function(t,r){r&&(n=[r(e.selectionStart),r(e.selectionEnd)]);var o=e.scrollTop;e.value=t,a=e.value,e.scrollTop!==o&&(e.scrollTop=o),n&&window.document.activeElement===e&&(e.selectionStart=n[0],e.selectionEnd=n[1])};r(t.data),t.on("op",function(t,a){if(!0!==a){for(var n=e.value,o=[],l=0;l<t.length;l++){var s=t[l];switch(typeof s){case"number":o.push(n.slice(0,s)),n=n.slice(s);break;case"string":o.push(s);break;case"object":n=n.slice(s.d)}}return r(o.join("")+n)}});for(var o=function(n){setTimeout(function(){e.value!==a&&(a=e.value,function(e,t,a){if(t!==a){for(var n=0;t.charAt(n)===a.charAt(n);)n++;for(var r=0;t.charAt(t.length-1-r)===a.charAt(a.length-1-r)&&r+n<t.length&&r+n<a.length;)r++;if(t.length!==n+r){var o=[n,"",{d:t.length-n-r}];e.submitOp(o)}a.length!==n+r&&e.submitOp([n,a.slice(n,a.length-r)])}}(t,t.data,e.value))},0)},l=["textInput","keydown","keyup","select","cut","paste"],s=0;s<l.length;s++){var c=l[s];e.addEventListener?e.addEventListener(c,o,!1):e.attachEvent("on"+c,o)}t.detach=function(){for(var t=0;t<l.length;t++){var a=l[t];e.removeEventListener?e.removeEventListener(a,o,!1):e.detachEvent("on"+a,o)}}}(document.querySelector("textarea"),e.doc)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.firebase;this.focusTextInput(),t.user(t.auth.currentUser.uid).once("value",function(a){var n=a.val();e.setState({user:n,uid:t.auth.currentUser.uid})})}},{key:"componentWillUnmount",value:function(){this.doc.destroy(),this.binding=null}},{key:"focusTextInput",value:function(){this.sharedTextArea.current.focus()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(De,{user:this.state.user}),r.a.createElement(L.l,null,r.a.createElement("div",{className:"vertical-padding-3em"}),r.a.createElement("h1",{className:"display-2"},"Editor"),r.a.createElement("p",{className:"lead"},"Click to copy"),r.a.createElement(Ge.Tooltip,{title:"Copied!",position:"top",trigger:"click",animation:"perspective",duration:300},r.a.createElement(Ve.a,{component:"a","button-href":"#","data-clipboard-text":"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(this.query.user,"/").concat(this.query.job)},"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(this.query.user,"/").concat(this.query.job))),r.a.createElement("div",{className:"vertical-padding-3em"}),r.a.createElement(L.p,null,r.a.createElement(L.t,{cols:"80",className:"sharedTextArea",ref:this.sharedTextArea,placeholder:"Start writing here...",rows:"10",type:"textarea",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}))))}}]),t}(r.a.Component)),$e=Object(k.a)(O.a,b,S(function(e){return!!e}))(Ke),Xe=a(214),Ze=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0,menuVisible:!1,style:{}},a.scrollDown=a.scrollDown.bind(Object(N.a)(Object(N.a)(a))),a.onLoaded=a.onLoaded.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onScrollToBottom",value:function(e){e||this.scrollDown()}},{key:"onLoaded",value:function(){this.setState({loading:!1},this.scrollDown)}},{key:"scrollDown",value:function(){setTimeout(function(){A.animateScroll.scrollToBottom({delay:0,duration:200,isDynamic:!0})},0),this.setState({menuVisible:!1})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.user,a=e.job;this.doc=Y.get(t,a)}},{key:"componentWillUnmount",value:function(){this.doc.destroy()}},{key:"render",value:function(){var e=this,t=this.state.menuVisible,a=this.props.style;return r.a.createElement("div",{className:"liveTranscript--container"},t?r.a.createElement(U,{scrollDown:this.scrollDown,style:a}):null,r.a.createElement("div",{className:"liveTranscript",onClick:function(){e.setState({menuVisible:!0})}},r.a.createElement(P,{cssClass:"liveTranscript--text-format",style:a,doc:this.doc,onLoaded:this.onLoaded,flag:"\u2248",elementType:"div"})),r.a.createElement(D.a,{threshold:.1,onChange:function(t){return e.onScrollToBottom(t)}},function(e){e.inView;var t=e.ref;return r.a.createElement("div",{ref:t,className:"liveTranscript--container_observer",style:{backgroundColor:a.backgroundColor}})}))}}]),t}(r.a.Component),Qe=a(225),et=a(216),tt=(a(355),a(93));function at(){var e=Object(Xe.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return at=function(){return e},e}var nt=Object(Qe.a)(at()),rt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={job:{},jobId:"",loading:!0,user:""},a.docParams=a.props.match.params,a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.firebase.findUser(this.docParams.user.toLowerCase()).once("value",function(t){if(!t.val())return e.setState({loading:!1});var a=t.val(),n=Object.keys(a).map(function(e){return Object(se.a)({},a[e])});return n[0].jobs[e.docParams.job.toLowerCase()]?(e.setState({user:n[0].username.toLowerCase(),jobId:n[0].jobs[e.docParams.job.toLowerCase()].id}),e.findJob()):e.setState({loading:!1})})}},{key:"findJob",value:function(){var e=this,t=this.props.firebase,a=this.state.jobId;t.jobById(a).once("value",function(t){if(t.val()){var a=t.val();e.setState({job:a,loading:!1})}})}},{key:"render",value:function(){var e=this.state,t=e.job,a=e.jobId,n=e.loading,o=e.user,l=this.props.style;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(et.SyncLoader,{className:nt,sizeUnit:"px",size:13,margin:"6px",color:l.color,loading:n})):t&&a&&!0===t.privacy?r.a.createElement("p",null,"this is a private event."):t&&a?r.a.createElement(Ze,{user:o,job:t.slug,style:l}):r.a.createElement("p",null,"No event found with that user/job combination!"))}}]),t}(r.a.Component),ot=Object(tt.a)(function(e){return{style:e.aloft_localstorage.style}},{})(rt),lt=b(ot),st=a(141),ct=a(142),it=a.n(ct),ut=(a(520),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={colors:!1,information:!1,textOptions:!0,file:!1},a.onClick=a.onClick.bind(Object(N.a)(Object(N.a)(a))),a.onStyleChange=a.onStyleChange.bind(Object(N.a)(Object(N.a)(a))),a.goBack=a.goBack.bind(Object(N.a)(Object(N.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onColorChange",value:function(e){var t={id:"color"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onBackgroundColorChange",value:function(e){var t={id:"backgroundColor"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onStyleChange",value:function(e){var t,a={};return a.id=e.target.id,e.target.id,t=Math.abs(e.target.value),e.target.value&&e.target.value>-1&&e.target.value<100?t+="em":t="1em","textTransform"===e.target.id&&(t=e.target.checked?"uppercase":"unset"),a.value=t,console.log(e.target.id,t),console.log("target",e.target.checked),console.log(a),this.props.updateStyle(a)}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"onClick",value:function(e){var t={colors:!1,information:!1,textOptions:!0,file:!1};switch(e){case 1:t.colors=!1,t.information=!1,t.textOptions=!0,t.file=!1;break;case 2:t.colors=!0,t.information=!1,t.textOptions=!1,t.file=!1;break;case 3:t.colors=!1,t.information=!0,t.textOptions=!1,t.file=!1;break;case 4:t.colors=!1,t.information=!1,t.textOptions=!1,t.file=!0}return this.setState({colors:t.colors,information:t.information,textOptions:t.textOptions,file:t.file})}},{key:"render",value:function(){var e=this;z.b.add(_.e);var t=this.props.style,a=t.backgroundColor,n=t.color,o=t.fontSize,l=t.lineHeight,s=t.textTransform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"settings-panel__close-button",onClick:this.goBack},r.a.createElement(J.a,{icon:"times",onClick:this.goBack})),r.a.createElement(L.l,{className:"transcript-view-tools__container"},r.a.createElement(L.G,null,r.a.createElement(L.j,{md:4,className:"settings-panel__column-left"},r.a.createElement("div",{className:"settings-panel__column-left--header-group"},r.a.createElement("h2",null,"Settings"),r.a.createElement("p",null,"Upwordly version 0.1.0")),r.a.createElement(L.y,null,r.a.createElement(L.z,{onClick:function(){return e.onClick(1)},active:this.state.textOptions,action:!0},"Text Appearance"),r.a.createElement(L.z,{onClick:function(){return e.onClick(2)},active:this.state.colors,action:!0},"Colors"),r.a.createElement(L.z,{onClick:function(){return e.onClick(3)},active:this.state.information,action:!0},"Information"),r.a.createElement(L.z,{onClick:function(){return e.onClick(4)},active:this.state.file,action:!0},"Transcript File")),r.a.createElement("div",{className:"vertical-padding-5em"}),r.a.createElement(L.b,{color:"danger",onClick:this.props.resetStyle},"Reset to default")),r.a.createElement(L.j,{md:8,className:"settings-panel__column-right"},r.a.createElement("div",{className:"settings-panel__column-right-settings",hidden:!this.state.textOptions},r.a.createElement("div",{className:"settings-panel__column-right--header-group"}),r.a.createElement(L.p,null,r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"fontFamily",sm:6},"Font family"),r.a.createElement(L.j,{sm:6},r.a.createElement(L.J,null,r.a.createElement(L.o,{caret:!0},"Dropdown"),r.a.createElement(L.n,null,r.a.createElement(L.m,{header:!0},"Header"),r.a.createElement(L.m,{disabled:!0},"Action"),r.a.createElement(L.m,null,"Another Action"),r.a.createElement(L.m,{divider:!0}),r.a.createElement(L.m,null,"Another Action"))))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"fontSize",sm:6},"Font size"),r.a.createElement(L.j,{sm:6},r.a.createElement(L.u,null,r.a.createElement(L.t,{type:"text",name:"fontSize",id:"fontSize",placeholder:"(e.g. 3)",defaultValue:o&&o.split("e")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(L.v,{addonType:"append"},"em")))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"lineHeight",sm:6},"Line Height"),r.a.createElement(L.j,{sm:6},r.a.createElement(L.u,null,r.a.createElement(L.t,{type:"text",name:"lineHeight",id:"lineHeight",placeholder:"(e.g. 1)",defaultValue:l&&l.split("e")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(L.v,{addonType:"append"},"em")))),r.a.createElement(L.r,{row:!0},r.a.createElement(L.x,{for:"textTransform",sm:6},"All caps"),r.a.createElement(L.j,{sm:6},r.a.createElement(L.r,{check:!0},r.a.createElement(L.x,{check:!0},r.a.createElement(L.t,{type:"checkbox",name:"textTransform",id:"textTransform",defaultChecked:"uppercase"===s,onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement("span",{className:"form-check-sign"},r.a.createElement("span",{className:"check"}))))))),r.a.createElement(L.d,{style:{backgroundColor:this.props.style.backgroundColor}},r.a.createElement(L.h,{top:!0,width:"100%",src:it.a,alt:"Captions Preview"}),r.a.createElement(L.e,{className:"settings-panel__column-right--preview"},r.a.createElement(L.i,{style:this.props.style},"Hello, hello, baby. You called, I can't hear a thing. I have got no service in the club, you see, see. Wha-wha-what did you say? Oh, you're breaking up on me. Sorry, I cannot hear you. I'm kinda busy. K-kinda busy. K-kinda busy. Sorry, I cannot hear you. I'm kinda busy")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.colors},r.a.createElement(L.G,null,r.a.createElement(L.j,{sm:6},r.a.createElement(st.ChromePicker,{color:n,id:"color",name:"color",onChangeComplete:function(t){return e.onColorChange(t)}}),r.a.createElement(L.x,{for:"textColor",sm:12},"Text color")),r.a.createElement(L.j,{sm:6},r.a.createElement(st.ChromePicker,{color:a,id:"backgroundColor",name:"backgroundColor",onChangeComplete:function(t){return e.onBackgroundColorChange(t)}}),r.a.createElement(L.x,{for:"backgroundColor",sm:12},"Background color"))),r.a.createElement(L.d,{style:{backgroundColor:this.props.style.backgroundColor}},r.a.createElement(L.h,{top:!0,width:"100%",src:it.a,alt:"Captions Preview"}),r.a.createElement(L.e,{className:"settings-panel__column-right--preview"},r.a.createElement(L.i,{style:this.props.style},"Hello, hello, baby. You called, I can't hear a thing. I have got no service in the club, you see, see. Wha-wha-what did you say? Oh, you're breaking up on me. Sorry, I cannot hear you. I'm kinda busy. K-kinda busy. K-kinda busy. Sorry, I cannot hear you. I'm kinda busy")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.information},r.a.createElement("h3",null,"Information"),r.a.createElement(L.w,null,r.a.createElement("p",{className:"lead"},"This is a simple hero unit, a simple Jumbotron-style component for calling extra attention to featured content or information."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",null,"It uses utility classes for typography and spacing to space content out within the larger container."),r.a.createElement("p",{className:"lead"},r.a.createElement(L.b,{color:"primary"},"Learn More")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.file},r.a.createElement("h3",null,"Transcript File"))))))}}]),t}(r.a.Component)),mt=Object(tt.a)(function(e){return{style:e.aloft_localstorage.style}},function(e){return{updateStyle:function(t){return e(function(e){return{type:"UPDATE_STYLE",payload:e}}(t))},resetStyle:function(){return e({type:"RESET_STYLE",payload:""})}}})(ut),dt=j(function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{path:"/account",component:ke}),r.a.createElement(c.a,{path:"/admin",component:Ne}),r.a.createElement(c.a,{path:"/coachella",component:re}),r.a.createElement(c.a,{path:C,component:qe}),r.a.createElement(c.a,{exact:!0,path:"/",component:oe}),r.a.createElement(c.a,{path:"/signup",component:me}),r.a.createElement(c.a,{path:"/signin",component:ye}),r.a.createElement(c.a,{path:"pw-change",component:Oe}),r.a.createElement(c.a,{path:"/pw-forget",component:fe}),r.a.createElement(c.a,{path:"/transcript-view-tools",component:mt}),r.a.createElement(c.a,{path:"/editor",component:$e}),r.a.createElement(c.a,{path:"/:user/:job",component:lt})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht=a(67),pt=a(55),ft={aloft_localstorage:{style:{backgroundColor:"#262A38",color:"#F2F2F2",fontSize:"3em",fontFamily:"Cousine, sans-serif",lineHeight:"1.5em",margin:"0",textTransform:"unset"}}},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STYLE":return Object.assign({},e,{aloft_localstorage:{style:Object(se.a)({},e.aloft_localstorage.style,Object(le.a)({},t.payload.id,t.payload.value))}});case"RESET_STYLE":return Object.assign({},e,{aloft_localstorage:{style:ft.aloft_localstorage.style}});default:return e}},gt=a(219),Et=a(220),vt=a(221),yt=function(){try{var e=localStorage.getItem("aloft_localstorage");return null===e?ft:JSON.parse(e)}catch(t){return ft}}(),wt=Object(pt.createStore)(bt,yt,Object(Et.composeWithDevTools)(Object(pt.applyMiddleware)(gt.a)));wt.subscribe(Object(vt.throttle)(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("aloft_localstorage",t)}catch(a){}}({aloft_localstorage:wt.getState().aloft_localstorage})}));var jt=wt;l.a.render(r.a.createElement(g.Provider,{value:new w},r.a.createElement(ht.a,{store:jt},r.a.createElement(dt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[226,2,1]]]);
//# sourceMappingURL=main.7a41739d.chunk.js.map