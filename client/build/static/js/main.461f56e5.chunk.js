(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a.p+"static/media/aloft_browser_bar.2d1da67c.png"},218:function(e,t){var a=function(e){var t=0;return{next:function(){return t<e.length?{word:e[t++],done:!1}:{done:!0}}}}("DAVID MALAN: Okay. So today we peel back the layers that we've been assuming for some time now. We've been talking about integers and characters. But we also had this higher level concept of a string, which was a generic way of saying you had back-to-back characters that represent words or sentences or paragraphs or whatnot.\n\tBut today we reveal that that's actually been a bit of a lie.\nThere actually is no such thing as string in the language called C. And indeed, you might have kind of suspected as much, given that we keep including cs50.h, which gives you things like GetInt and GetString and so forth. But it also gives you string, literally, a keyword that actually doesn't come with C. And before we peel back what exactly it is, let's consider perhaps what problems it creates and what powers it reveals to understand what's going on underneath the hood. And let me propose that we try to implement, at least in pseudocode, this algorithm here, swap.\n\tSo I proclaim that swap is a function whose purpose in life is to take two inputs \u2014 let's call it a and b \u2014 and just swap them, so that a becomes b, and b becomes a. And before we even get into the weeds of pseudocode or actual code, we actually have two values here.\n\tMight anyone like to join me onstage for just a moment for a drink of Gatorade?\n\tA little Gatorade?\n\tMaybe someone a little farther back today?\n\tA little drink?\n\tYeah?\n\tOkay. Come on down.\n\tWhat's your name?\n\nKATE: Kate.\n\nDAVID MALAN: Kate, come on down. Join me for some Gatorade onstage. Welcome to Kate. All right.\n\tSo the challenge at hand is this. Let me just set us up here. So we have some green. That's very unnatural looking. Okay. We have some pink. And you know what? I think, actually, I'd like the pink, and maybe you could have green. I need you to swap the values of these two cups if you could. I need you to get the pink into the green cup and the green into the pink cup.\n\nKATE: I think I need another cup.\n\nDAVID MALAN: Okay. So she thinks she's going to need another cup. And okay, so good. I came prepared. So we need another variable, if you will. Okay. So here we go, Kate. Set us up.".trim().split(" "));e.exports={wordIterator:a}},236:function(e,t,a){e.exports=a(549)},243:function(e,t,a){},300:function(e,t,a){},302:function(e,t,a){},306:function(e,t,a){},313:function(e,t,a){},329:function(e,t,a){},515:function(e,t,a){},542:function(e,t,a){},544:function(e,t,a){},546:function(e,t,a){},549:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),o=a.n(l),s=(a(241),a(243),a(553)),c=a(551),i=r.a.createContext(null),m=a(7),u=a(8),d=a(11),h=a(9),p=a(10),b=r.a.createContext(null),g=function(e){return function(t){return r.a.createElement(b.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},f=b,E=a(105),v=a.n(E),y=(a(290),a(292),{apiKey:"AIzaSyD9kUhusklUOTC36blxrrGYILIaPd3e7Bw",authDomain:"aloft-53221.firebaseapp.com",databaseURL:"https://aloft-53221.firebaseio.com",projectId:"aloft-53221",storageBucket:"aloft-53221.appspot.com",messagingSenderId:"439623820482"}),w=function e(){var t=this;Object(m.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doCreateUserWithEmailLink=function(e,a){return t.auth.sendSignInLinkToEmail(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithEmailLink=function(e){return t.auth.signInWithEmailLink(e)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.jobs=function(e){t.db.ref("users/".concat(e)).orderByChild("jobs")},this.users=function(){return t.db.ref("users")},this.findUser=function(e){return t.db.ref("users").orderByChild("username").equalTo(e)},this.deleteJobFromUser=function(e){return t.user(t.auth.currentUser.uid).child("jobs").child(e).remove()},this.allJobs=function(){return t.db.ref("jobs")},this.jobById=function(e){return t.db.ref("/jobs/".concat(e))},this.jobsBySlug=function(e){return t.db.ref("jobs").orderByChild("slug").equalTo(e)},this.deleteJobFromJobs=function(e){return t.db.ref("jobs").child("".concat(e)).remove()},v.a.initializeApp(y),this.auth=v.a.auth(),this.db=v.a.database()},k=function(e){var t=function(t){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).state={authUser:null},t}return Object(p.a)(a,t),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(i.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return g(t)},C=a(554),j=a(31),S="/about",O="/dashboard",N=function(e){return function(t){var a=function(a){function n(){return Object(m.a)(this,n),Object(d.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(p.a)(n,a),Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(i.Consumer,null,function(n){return e(n)?r.a.createElement(t,a.props):null})}}]),n}(r.a.Component);return Object(j.a)(C.a,g)(a)}},x=a(2),F=a(63),T=a(218);var D=function(){var e={text:"",addText:function(e){this.text+=e+" "}},t=Object(n.useState)(e.text),a=Object(F.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)(function(){var t=setInterval(function(){var a=T.wordIterator.next();!0!==a.done?(e.addText(a.word),o(l+e.text)):clearInterval(t)},300);return function(){return clearInterval(t)}}),r.a.createElement("div",null,r.a.createElement("p",null,l))},A=a(4),U=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(A.a)(Object(A.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.F,{color:"dark",className:"navbar fixed-top navbar-dark bg-primary",expand:"lg",fixed:"true"},r.a.createElement(x.n,null,r.a.createElement(x.G,{href:"/"},"UPWORDLY"),r.a.createElement(x.H,{onClick:this.toggle}),r.a.createElement(x.m,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(x.C,{className:"ml-auto",navbar:!0},r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"#about"},"About")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"#features"},"Features")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"#pricing"},"Pricing")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"/signup"},"Sign Up")),r.a.createElement(x.D,null,r.a.createElement("a",{href:"/signin",className:"btn btn-outline-light btn-md"},"Sign In")))))))}}]),t}(r.a.Component),I=a(550),L=function(){return r.a.createElement("footer",{className:"bg-mustard text-primary py-5"},r.a.createElement(x.n,{className:"py-5"},r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h5",{className:"text-uppercase text-header"},"Upwordly"),r.a.createElement("p",null,r.a.createElement("small",null,"\xa92019 Upwordly, LLC.",r.a.createElement("br",null),"All rights reserved.")),r.a.createElement("p",null,r.a.createElement("small",null,"Proudly built in NYC. \u2665"))),r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h6",{className:"text-header"},"Company"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"About us")))),r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h6",{className:"text-header"},"Features"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"Live Transcription Anywhere")),r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"Repository")),r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"Delivery")),r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"Analytics")),r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"API")))),r.a.createElement(x.l,{lg:3,md:6,sm:12,xs:12,className:"mb-2 footer--section-header"},r.a.createElement("h6",{className:"text-header"},"Support"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"Contact")),r.a.createElement("li",null,r.a.createElement(I.a,{className:"text-light-brown",to:S},"FAQs")))))))},z=a(59),P=a.n(z),B=(a(300),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null),r.a.createElement("header",{className:"bg-mustard"},r.a.createElement(x.n,{className:"h-100"},r.a.createElement(x.I,{className:"h-100"},r.a.createElement(x.l,{lg:12},r.a.createElement("div",{className:"text-center m-0 vh-100 d-flex flex-column justify-content-center text-primary"},r.a.createElement("h1",{className:"display-4 header-main"},"Upwordly"),r.a.createElement("p",{className:"lead text-primary mt-2"},r.a.createElement(P.a,{strings:["One platform to sync, send, and integrate your real-time transcriptions.","Web-based live stenography, anywhere."],typeSpeed:40})),r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"btn-group-lg"},r.a.createElement("a",{href:"#about",className:"btn btn-outline-dark btn-lg"},"Learn More")))))))),r.a.createElement("div",{id:"about"}),r.a.createElement("section",{className:"container mt-10"},r.a.createElement("h1",{className:"text-center mt-4 section-header"},"About Upwordly"),r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:6,md:6,sm:12},r.a.createElement("p",{className:"mt-4"},"Upwordly is a real-time transcription delivery tool and a content management system (CMS) for real-time stenographers. You login, create a job, connect your CAT software via a small helper app, and start writing. Distribute your live feed to anyone via a short URL and that's it! Since it is web based, there's no need for your consumers to install anything on their end. When the job is over, it's your choice to use the variety of tools to save or disseminate the transcript or to delete it. Simple."),r.a.createElement("a",{href:"https://www.youtube.com/watch?v=PtlriHufTBA",target:"_blank",rel:"noopener noreferrer",className:"text-success"},"See how easy it is to connect your CAT software to Upwordly")),r.a.createElement(x.l,{lg:6,md:6,sm:12},r.a.createElement("div",{className:"browser-mockup with-url"},r.a.createElement("div",{className:"upwordly-mockup"},r.a.createElement(D,null)))))),r.a.createElement("div",{id:"features"}),r.a.createElement("section",{className:"container mt-10"},r.a.createElement("h1",{className:"text-center mt-4 mb-6 section-header"},"Send your live transcriptions to the cloud."),r.a.createElement(x.f,null,r.a.createElement(x.d,{body:!0,outline:!0,color:"primary"},r.a.createElement(x.k,{className:"text-primary card-title"},"Fast"),r.a.createElement(x.j,null,"Utilizing distributed WebSockets connections ensures your viewers get text at nearly instantaneous speeds.")),r.a.createElement(x.d,{body:!0,outline:!0,color:"primary"},r.a.createElement(x.k,{className:"text-primary card-title"},"Simple"),r.a.createElement(x.j,null,"Web based means there's nothing to set up for your clients. You simply point them to a URL and your live transcription shows up in their browser.")),r.a.createElement(x.d,{body:!0,outline:!0,color:"primary"},r.a.createElement(x.k,{className:"text-primary card-title"},"Versatile"),r.a.createElement(x.j,null,"Upwordly offers stenographers not only the tools to make their realtime available anywhere; it makes saving, archiving, and sending transcripts a breeze.")))),r.a.createElement("div",{id:"pricing"}),r.a.createElement("section",{className:"container mt-10"},r.a.createElement("h1",{className:"text-center mt-4 mb-6 section-header"},"Flexible Pricing"),r.a.createElement(x.f,null,r.a.createElement(x.d,{body:!0,inverse:!0,className:"bg-primary"},r.a.createElement(x.k,null,"Single User"),r.a.createElement(x.j,null,"You're a single freelancer and expect to use the service around 10 times per week."),r.a.createElement(x.b,{outline:!0,size:"lg",className:"btn btn-outline-light"},"$58 per month"))," ",r.a.createElement(x.d,{body:!0,inverse:!0,className:"bg-primary"},r.a.createElement(x.k,null,"Agency"),r.a.createElement(x.j,null,"You're an agency employing 2-10 writers and expect to use the service 10-30 times per week."),r.a.createElement(x.b,{outline:!0,size:"lg",className:"btn btn-outline-light"},"$108 per month"))," ",r.a.createElement(x.d,{body:!0,inverse:!0,className:"bg-primary"},r.a.createElement(x.k,null,"Enterprise"),r.a.createElement(x.j,null,"You have a large staff and clientele base with an average of over 30 uses per week."),r.a.createElement(x.b,{outline:!0,size:"lg",className:"btn btn-outline-light"},"$280 per month")))),r.a.createElement("section",{className:"container mt-10"}),r.a.createElement(L,null))}),J=a(25),W=a(12),M=a(14),_=a(13),R=function(e){return/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i.test(e)},q=function(e){var t={strength:"weak",message:"Must be longer than 0 characters."},a={all:new RegExp("^(?=.*[A-Za-z.s_-])(?=.*[0-9])(?=.*[!@#$%^&*()><,.'\":;=+])(?=.{6,})"),atLeastSix:new RegExp("^(?=.{6,})"),containsAlpha:new RegExp("^(?=.*[A-Za-z.s_-])"),containsNum:new RegExp("^(?=.*[0-9])"),containsSymbol:new RegExp("^(?=.*[!@#$%^&*()?><,.'\":;=+])"),isntCommon:new RegExp("^(?!.*pass|.*word|.*1234|.*123|.*qwer|.*asdf|.*home|.*hello|.*welcome.*|abc.*|abcd)")};switch(e&&e.length>0){case!a.atLeastSix.test(e):t.message="Password must at least 6 characters.",t.strength="medium";break;case!a.containsAlpha.test(e):t.strength="weak",t.message="Password must contain letters.";break;case!a.containsSymbol.test(e):t.strength="medium",t.message="Password must contain at least one symbol (!, @, #, $, etc.).";break;case!a.isntCommon.test(e):t.strength="weak",t.message='Password must not contain common sequences ("pass", "qwerty", "1234", etc.).';break;case!a.containsNum.test(e):t.message="Password must contain at least 1 numeral.",t.strength="medium";break;case a.all.test(e):t.strength="strong",t.message="Password is nice and strong."}return t},Y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{className:"text-primary text-strong",for:"Full Name",sm:4,size:"lg"},"Registration Token"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{autoFocus:!0,required:!0,bsSize:"lg",onChange:e.onChange,type:"text",name:"regKey",id:"regKey",valid:e.regKeyValid}),r.a.createElement("span",{className:"floating-label"},"Enter your registration key."))),r.a.createElement("div",{className:"mt-4"}),r.a.createElement(x.b,{className:"btn btn-primary float-right",size:"lg",onClick:e.finishStep,disabled:!e.regKeyValid,type:"submit"},"Next step\xa0\xa0\xa0",r.a.createElement(W.a,{icon:"arrow-right"})))},V=function(e){return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{className:"text-primary text-strong",for:"Full Name",sm:4,size:"lg"},"Full Name"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{autoFocus:!0,required:!0,bsSize:"lg",onChange:e.onChange,type:"text",name:"fullName",id:"fullName",valid:!!e.fullName}),r.a.createElement("span",{className:"floating-label"},"Your full name"))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{className:"text-primary text-strong",for:"nickName",sm:4,size:"lg"},"Nickname"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{required:!0,bsSize:"lg",onChange:e.onChange,type:"text",name:"nickName",id:"nickName",valid:!!e.nickName}),r.a.createElement("span",{className:"floating-label"},"What would you like us to call you?"))),r.a.createElement("div",{className:"mt-4"}),r.a.createElement(x.b,{className:"btn btn-primary float-right",size:"lg",onClick:e.finishStep,disabled:!e.fullName||!e.nickName,type:"submit"},"Next step\xa0\xa0\xa0",r.a.createElement(W.a,{icon:"arrow-right"})))},K=function(e){return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{className:"text-primary text-strong",size:"lg",for:"Email",sm:4},"Email"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{autoFocus:!0,required:!0,bsSize:"lg",type:"text",name:"email",id:"email",valid:!!e.emailValid&&!e.emailFound,invalid:!!e.emailFound,onChange:e.onChange}),r.a.createElement("span",{className:"floating-label"},"Your email address"),e.emailValid?"":r.a.createElement(x.s,{invalid:!0},"The email is badly formatted."),e.emailFound?r.a.createElement(x.s,{invalid:!0},"This email already has an account."):"")),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{className:"text-primary text-strong",for:"username",sm:4,size:"lg"},"Username"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{required:!0,className:"text-primary text-strong",type:"text",name:"username",onChange:e.onChange,id:"username",bsSize:"lg",invalid:!!e.usernameFound,valid:!e.usernameFound&&!!e.username}),r.a.createElement("span",{className:"floating-label"},"Your username"),e.usernameFound?r.a.createElement(x.s,{invalid:!0},"This username is already taken."):"")),r.a.createElement(x.b,{className:"btn btn-primary float-right",size:"lg",onClick:e.finishStep,disabled:!e.username||!e.emailValid||e.usernameFound||e.emailFound,type:"submit"},"Next step\xa0\xa0\xa0",r.a.createElement(W.a,{icon:"arrow-right"})))},H=function(e){return r.a.createElement("div",null,r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{className:"text-primary text-strong",size:"lg",for:"passwordOne",sm:4},"Password"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{autoFocus:!0,type:"password",name:"passwordOne",id:"passwordOne",placeholder:"Password",bsSize:"lg",onChange:e.onChange,valid:"strong"===e.passwordStrength.strength,invalid:"strong"!==e.passwordStrength.strength&&e.passwordOne.length>0}),r.a.createElement("span",{className:"floating-label"},"Your password"),"strong"===e.passwordStrength.strength?r.a.createElement(x.s,{valid:!0},e.passwordStrength.message):null,"medium"===e.passwordStrength.strength?r.a.createElement(x.s,{invalid:"true"},e.passwordStrength.message):null,"weak"===e.passwordStrength.strength?r.a.createElement(x.s,{invalid:"true"},e.passwordStrength.message):null,r.a.createElement(x.u,null,"Passwords must be at least 6 characters long, 1 numeric character, and 1 special character (@,%,^,*, etc.)."))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{autoFocus:!0,className:"text-primary text-strong",for:"passwordOne",sm:4,size:"lg"},"Confirm password"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{type:"password",name:"passwordTwo",id:"passwordTwo",bsSize:"lg",onChange:e.onChange,valid:e.passwordOne===e.passwordTwo&&""!==e.passwordTwo,invalid:e.passwordOne!==e.passwordTwo&&e.passwordTwo.length>0}),r.a.createElement("span",{className:"floating-label"},"Retype password to confirm"),e.passwordOne===e.passwordTwo?r.a.createElement(x.s,{valid:!0},"Nice! Passwords are looking good!"):null,e.passwordOne!==e.passwordTwo?r.a.createElement(x.s,{invalid:"true"},"Confirmation password must match original."):null)),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{className:"text-primary text-strong",for:"privilegeLevel",sm:4,size:"lg"},"Role"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{bsSize:"lg",value:e.privilegeLevel,onChange:e.onChange,type:"select",id:"privilegeLevel",name:"privilegeLevel"},r.a.createElement("option",{value:"provider"},"Provider (stenographer)"),r.a.createElement("option",{value:"consumer"},"Consumer"),r.a.createElement("option",{value:"admin",disabled:!0},"Administrator")))))},G=a(78),$=a.n(G),Z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).checkFbForEmail=function(){a.props.firebase.users().orderByChild("email").equalTo(a.state.email).once("value",function(e){e.val()?a.setState({emailFound:!0}):a.setState({emailFound:!1})}).catch(function(e){return console.log("error! "+e)})},a.checkFbForUsername=function(){a.props.firebase.users().orderByChild("username").equalTo(a.state.username).once("value",function(e){e.val()?a.setState({usernameFound:!0}):a.setState({usernameFound:!1})}).catch(function(e){return console.log("error! "+e)})},a.finishStep=function(){a.setState({step:a.state.step+1})},a.onChange=function(e){console.log(a.state),"passwordOne"===e.target.name&&a.setState({passwordStrength:q(e.target.value)}),"email"===e.target.name&&(a.setState({emailValid:R(e.target.value)}),a.checkFbEmail()),"username"===e.target.name&&a.checkFbUsername(),"regKey"===e.target.name&&a.setState({regKeyValid:"pusheen88"===e.target.value}),a.setState(Object(J.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){var t=a.state,n=t.fullName,r=t.nickName,l=t.username,o=t.email,s=t.passwordOne,c=t.privilegeLevel;t.regKeyValid?a.props.firebase.doCreateUserWithEmailAndPassword(o,s).then(function(e){return a.props.firebase.user(e.user.uid).set({fullName:n.trim(),nickName:r.trim(),username:l.trim().toLowerCase(),email:o.trim().toLowerCase(),privilegeLevel:c})}).then(function(e){a.props.history.push(O)}).catch(function(e){a.setState({error:e})}):a.setState({error:"Sorry. Your registration token was declined."}),e.preventDefault()},a.state={fullName:"",nickName:"",username:"",usernameFound:!1,email:"",emailValid:!1,emailFound:!1,passwordOne:"",passwordTwo:"",passwordStrength:{},privilegeLevel:"",regKey:"",regKeyValid:!1,error:"",step:0},a.checkFbEmail=a.checkFbForEmail.bind(Object(A.a)(Object(A.a)(a))),a.checkFbEmail=$.a.debounce(a.checkFbForEmail,1e3),a.checkFbUsername=a.checkFbForUsername.bind(Object(A.a)(Object(A.a)(a))),a.checkFbUsername=$.a.debounce(a.checkFbForUsername,1e3),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.props.firebase&&this.props.firebase.users().off(),this.checkFbEmail.cancel()}},{key:"render",value:function(){return M.b.add(_.c,_.d),r.a.createElement("div",{className:"pt-6 h-100-vh bg-mustard"},r.a.createElement(x.n,null,r.a.createElement(x.I,null,r.a.createElement(x.l,{sm:12},r.a.createElement("div",{className:"mb-8"},r.a.createElement("h2",{className:"login--form-header"},"Upwordly"),r.a.createElement("p",{className:"login--form-welcome my-2"},r.a.createElement(P.a,{strings:["Welcome to Upwordly!","Let's get signed up!"],typeSpeed:40}))))),r.a.createElement("div",{className:"mb-8"}),r.a.createElement(x.I,null,r.a.createElement(x.l,{sm:8},this.state.error&&r.a.createElement(x.a,{color:"danger",className:"mb-5"},this.state.error.message),r.a.createElement(x.r,{onSubmit:this.onSubmit},0===this.state.step?r.a.createElement(Y,{onChange:this.onChange,regKey:this.state.regKey,regKeyValid:this.state.regKeyValid,finishStep:this.finishStep}):"",1===this.state.step?r.a.createElement(V,{onChange:this.onChange,fullName:this.state.fullName,nickName:this.state.nickName,finishStep:this.finishStep}):"",2===this.state.step?r.a.createElement(K,{onChange:this.onChange,checkFbForEmail:this.checkFbForEmail,checkFbForUser:this.checkFbForUser,emailValid:this.state.emailValid,emailFound:this.state.emailFound,username:this.state.username,usernameFound:this.state.usernameFound,finishStep:this.finishStep}):"",3===this.state.step?r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{onChange:this.onChange,passwordOne:this.state.passwordOne,passwordTwo:this.state.passwordTwo,passwordStrength:this.state.passwordStrength,privilegeLevel:this.state.privilegeLevel,finishStep:this.finishStep}),r.a.createElement(x.b,{className:"btn btn-success float-right mt-4",size:"lg",valid:"strong"===this.state.passwordStrength.strength&&this.state.passwordOne===this.state.passwordTwo,onClick:this.onSubmit,type:"submit"},"Create Account\xa0\xa0\xa0",r.a.createElement(W.a,{icon:"check"}))):"")))))}}]),t}(r.a.Component),Q=function(){return r.a.createElement(r.a.Fragment,null,"Don't have an account? ",r.a.createElement(I.a,{to:"/signup"},"Sign Up"))},X=Object(j.a)(C.a,g)(Z),ee=a(15),te={email:"",error:null},ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(ee.a)({},te))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(J.a)({},e.target.name,e.target.value))},a.state=Object(ee.a)({},te),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),t}(n.Component),ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{to:"/pw-forget"},"Forgot Password?"))},re=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(le,null))},le=g(ae),oe=(a(302),function(){return r.a.createElement("div",{className:"login__form h-100-vh bg-mustard"},r.a.createElement(x.n,{className:"bg-mustard"},r.a.createElement(x.I,null,r.a.createElement(x.l,{md:3}),r.a.createElement(x.l,{md:6},r.a.createElement("div",{className:"mb-4"},r.a.createElement("h2",{className:"login--form-header"},"Upwordly"),r.a.createElement("p",{className:"login--form-welcome my-2"},r.a.createElement(P.a,{strings:["Welcome back!"],typeSpeed:40}))),r.a.createElement(ie,null)),r.a.createElement(x.l,{md:3}))),r.a.createElement("footer",{className:"bg-mustard text-primary"},r.a.createElement(x.n,{className:"pt-5"},r.a.createElement(x.I,{className:"mt-6"},r.a.createElement(x.l,{lg:6,md:6,sm:12,className:"mb-2 footer--section-header"},r.a.createElement("h5",{className:"text-uppercase text-header"},"Upwordly"),r.a.createElement("p",null,r.a.createElement("small",null,"\xa92019 Upwordly, LLC.",r.a.createElement("br",null),"All rights reserved.")),r.a.createElement("p",null,r.a.createElement("small",null,"Proudly built in NYC. \u2665"))),r.a.createElement(x.l,{lg:6,md:6,sm:12,className:"mb-2 footer--section-header"},r.a.createElement("h4",{className:"text-header pb-3 text-strong"},"Need help?"),r.a.createElement("ul",{className:"nav flex-column footer--list-items"},r.a.createElement("li",null,r.a.createElement(ne,null)),r.a.createElement("li",null,r.a.createElement(Q,null))))))))}),se={email:"",password:"",error:null},ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n.trim().toLowerCase(),r).then(function(){a.setState(Object(ee.a)({},se)),a.props.history.push(O)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(J.a)({},e.target.name,e.target.value))},a.state=Object(ee.a)({},se),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){M.b.add(_.b),M.b.add(_.c);var e=this.state,t=e.email,a=e.password,n=e.error,l=this.props.firebase,o=""===a||""===t;return r.a.createElement("div",null,r.a.createElement(x.r,{onSubmit:this.onSubmit},r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"email",sm:4,size:"lg",className:"text-primary text-strong"},"Email"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{required:!0,value:t,onChange:this.onChange,type:"text",name:"email",id:"email",bsSize:"lg"}),r.a.createElement("span",{className:"floating-label"},"Your email address"))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"password",sm:4,size:"lg",className:"text-primary text-strong"},"Password"),r.a.createElement(x.l,{sm:8},r.a.createElement(x.v,{required:!0,value:a,onChange:this.onChange,type:"password",name:"password",id:"password",bsSize:"lg"}),r.a.createElement("span",{className:"floating-label"},"Your password"))),n&&r.a.createElement(x.K,{color:"danger"},n.message),r.a.createElement(x.b,{className:"btn btn-primary btn-lg mt-4 mb-4",disabled:o,type:"submit",size:"lg",block:!0},"Sign In"),l.auth.O?r.a.createElement(I.a,{to:O},"Continue to Dashboard \xa0\xa0\xa0",r.a.createElement(W.a,{icon:"arrow-right"})):r.a.createElement(I.a,{to:O},r.a.createElement(W.a,{icon:"arrow-left"}),"\xa0\xa0\xa0Back to Landing")))}}]),t}(n.Component),ie=Object(j.a)(C.a,g)(ce),me=function(e){return r.a.createElement(i.Consumer,null,function(t){return t?r.a.createElement(oe,Object.assign({},e,{authUser:t})):r.a.createElement(oe,null)})},ue={passwordOne:"",passwordTwo:"",error:null},de=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(ee.a)({},ue))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(J.a)({},e.target.name,e.target.value))},a.state=Object(ee.a)({},ue),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component),he=g(de),pe=N(function(e){return!!e})(function(){return r.a.createElement(i.Consumer,null,function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account Page"),r.a.createElement(le,null),r.a.createElement(he,null))})}),be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!1,message:"",users:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var a=t.val();if(a){var n=Object.keys(a).map(function(e){return Object(ee.a)({},a[e],{uid:e})});e.setState({users:n,loading:!1})}else e.setState({loading:!1,message:"There are currently no users in the database to load."})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.message,a=e.users,n=e.loading;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),n&&r.a.createElement("div",null,"Loading ..."),t&&r.a.createElement("div",null,"There are no users to load."),r.a.createElement(ge,{users:a}))}}]),t}(r.a.Component),ge=function(e){var t=e.users;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username))}))},fe=g(be),Ee=g(function(e){var t=e.firebase;return r.a.createElement(x.b,{type:"button",className:"btn btn-outline-light btn-md btn-primary",onClick:t.doSignOut},"Sign Out")}),ve=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(A.a)(Object(A.a)(a))),a.state={isOpen:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props)}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props.user;e.firstName,e.lastName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.F,{color:"dark",className:"navbar fixed-top navbar-dark bg-primary",expand:"lg",fixed:"true"},r.a.createElement(x.n,null,r.a.createElement(x.G,{href:"/"},"UPWORDLY"),r.a.createElement(x.H,{onClick:this.toggle}),r.a.createElement(x.m,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(x.C,{className:"ml-auto",navbar:!0},r.a.createElement(x.D,null,r.a.createElement(x.E,{href:O},"Dashboard")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"/repo"},"Repository")),r.a.createElement(x.D,null,r.a.createElement(x.E,{href:"/account"},"Account")),r.a.createElement(x.L,{nav:!0,inNavbar:!0},r.a.createElement(x.q,{nav:!0,caret:!0},"Support"),r.a.createElement(x.p,{right:!0},r.a.createElement(x.o,null,"Download CAT Plugin"),r.a.createElement(x.o,{divider:!0}),r.a.createElement(x.o,null,"Email Support"))),r.a.createElement(x.D,null,r.a.createElement(Ee,null)))))))}}]),t}(r.a.Component),ye=function(e){return r.a.createElement(i.Consumer,null,function(t){return t?r.a.createElement(ve,e):r.a.createElement(U,null)})},we=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){var t=new RegExp("^[a-z0-9_-]*$");console.log(a.state),"slug"===e.target.id&&(t.test(e.target.value)?a.setState({error:""}):a.setState({error:"Slug names may only consist of lower case letters, numbers, dashes, and hyphens."}),e.target.value=e.target.value.toLowerCase()),a.setState(Object(J.a)({},e.target.id,e.target.value))},a.onTogglePrivacy=function(){a.setState({privacy:!a.state.privacy})},a.addJob=function(e){a.props.firebase.jobsBySlug(e).once("value",function(e){return e.val()?a.setState({error:"There is already a job with that slug."}):a.addJobToJobs()})},a.addJobToJobs=function(){var e=a.props.firebase,t=a.props.user,n=t.username,r=t.fullName;console.log(a.props.user);var l=a.state,o=l.slug,s=l.title,c=l.speakers,i=l.timeCreated,m=l.privacy,u=l.privacyPassword,d=l.viewCount,h=l.completed;e.allJobs().push({slug:!!o&&o.trim().toLowerCase(),title:!!s&&s.trim(),username:n,userFullName:r,speakers:!!c&&c.trim(),timeCreated:i,privacy:m,privacyPassword:u,viewCount:d,completed:h},function(e){if(e)return a.setState({error:e})}).then(function(e){return a.addJobToUser(o,e)})},a.addJobToUser=function(e,t){var n=a.props.firebase,r=a.props.user.uid;n.user(r).child("jobs").child(e).set({id:t.key},function(e){if(e)return a.setState({error:e})}).then(function(){return a.setState({message:"Job successfully created!"})})},a.onSubmit=function(e){e.preventDefault();var t=a.state.slug;a.addJob(t)},a.state={slug:"",title:"",username:"",speakers:"",timeCreated:(new Date).toUTCString(),privacy:!1,privacyPassword:"",conf:"",viewCount:0,completed:!1,error:"",warningVisible:!0,message:""},a.onWarningDismiss=a.onWarningDismiss.bind(Object(A.a)(Object(A.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onWarningDismiss",value:function(){this.setState({warningVisible:!1})}},{key:"componentWillUnmount",value:function(){this.props.firebase.user().off()}},{key:"render",value:function(){var e=this,t=this.props.user.username,a=this.state,n=a.error,l=a.message,o=a.privacy,s=a.privacyPassword,c=a.slug,i=a.speakers,m=a.title,u=""!==n||""===c;return r.a.createElement("div",null,r.a.createElement(x.d,{className:"job-creator-card"},r.a.createElement(x.h,null,r.a.createElement("h4",{className:"title d-inline text-primary"},"CREATE NEW JOB"),r.a.createElement("hr",null)),r.a.createElement(x.e,null,r.a.createElement(x.r,{autoComplete:"off"},r.a.createElement(x.I,{form:!0},r.a.createElement(x.l,{md:12},r.a.createElement(x.t,null,r.a.createElement(x.z,{for:"slug"},"URI SLUG (required)"),r.a.createElement(x.v,{autoComplete:"off","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"slug",id:"slug",placeholder:"e.g. srcconpower2018-power-people-of-color",value:c,onChange:function(t){return e.onChange(t)}}),c&&!n?r.a.createElement("p",{className:"text-success"},"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(t,"/").concat(c)):"",n&&r.a.createElement("p",{className:"text-warning"},n)),r.a.createElement(x.t,null,r.a.createElement(x.z,{for:"title"},"TITLE"),r.a.createElement(x.v,{autoComplete:"false","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"title",id:"title",placeholder:"e.g. Power to the People\u2014of Color",value:m,onChange:function(t){return e.onChange(t)}}),m&&!n?r.a.createElement("p",{className:"text-success"},'"'.concat(m,'"')):""),r.a.createElement(x.t,null,r.a.createElement(x.z,{for:"speakers"},"SPEAKER(S)"),r.a.createElement(x.v,{autoComplete:"false","data-lpignore":"true",type:"text",bsSize:"lg",required:!0,name:"speakers",id:"speakers",placeholder:"e.g. Emmanuel Martinez, Julia B. Chan",value:i,onChange:function(t){return e.onChange(t)}}),i&&!n?r.a.createElement("p",{className:"text-success"},'"'.concat(i,'"')):""),r.a.createElement(x.t,{check:!0},r.a.createElement("div",{className:"custom-control custom-checkbox d-inline"},r.a.createElement(x.v,{defaultChecked:o,onChange:this.onTogglePrivacy,type:"checkbox",name:"privacy",id:"privacy",className:"custom-control-input"}),r.a.createElement(x.z,{for:"privacy",className:"custom-control-label",check:!0},"Private"))),r.a.createElement("br",null),r.a.createElement(x.t,{hidden:!o},r.a.createElement(x.v,{autoComplete:"false","data-lpignore":"true",type:"password",bsSize:"lg",required:!0,name:"privacyPassword",id:"privacyPassword",value:s,onChange:function(t){return e.onChange(t)}}),r.a.createElement("br",null),r.a.createElement("p",{className:"text-success"},"Users will have to type in this password to access the transcription.")))))),r.a.createElement(x.g,null,r.a.createElement(x.b,{size:"lg",type:"submit",color:"primary",disabled:u,onClick:function(t){return e.onSubmit(t)}},"Create Event"))),!!l&&r.a.createElement("p",null,l))}}]),t}(r.a.Component),ke=Object(j.a)(C.a,g,N(function(e){return!!e}))(we),Ce=a(231),je=a(150),Se=a.n(je),Oe=a(221);function Ne(e,t){return xe.apply(this,arguments)}function xe(){return(xe=Object(Oe.a)(Se.a.mark(function e(t,a){var n,r,l,o,s;return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(a," (").concat(t,").txt"),e.next=3,fetch("".concat(window.location.protocol,"//").concat(window.location.hostname,"/api?user=").concat(t,"&job=").concat(a));case 3:return r=e.sent,e.next=6,r.text();case 6:return l=e.sent,e.next=9,new Blob([l],{type:"text/plain"});case 9:return o=e.sent,(s=document.createElement("a")).download=n,s.innerHTML="My Hidden Download Link",s.onclick=function(e){return document.body.removeChild(e.target)},s.href=window.URL.createObjectURL(o),s.style.display="none",document.body.appendChild(s),s.click(),e.abrupt("return",l);case 19:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Fe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={jobs:[],selectedJobs:[],loading:!0,user:{}},a.handleJobCheck=a.handleJobCheck.bind(Object(A.a)(Object(A.a)(a))),a.handleDeleteJobs=a.handleDeleteJobs.bind(Object(A.a)(Object(A.a)(a))),a.handleDownloadJobs=a.handleDownloadJobs.bind(Object(A.a)(Object(A.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchUserThenJobs()}},{key:"componentWillUnmount",value:function(){this.props.firebase.allJobs().off(),this.props.firebase.user().off()}},{key:"fetchUserThenJobs",value:function(){var e=this,t=this.props,a=t.firebase,n=t.uid;a.user(n).once("value",function(t){return e.setState({user:t.val()},e.fetchJobs)})}},{key:"fetchJobs",value:function(){var e=this,t=this.props.firebase,a=this.state.user;t.allJobs().on("value",function(t){var n=t.val();if(console.log("boys, boys boys",n),n){var r=Object.keys(n).map(function(e){return Object(ee.a)({},n[e],{uid:e})}).filter(function(e){return e.username===a.username}).reverse();e.setState({jobs:r,loading:!1}),console.log("state",e.state)}else e.setState({loading:!1})})}},{key:"handleJobCheck",value:function(e){"checkbox"===e.target.type&&e.target.checked?this.state.selectedJobs&&!this.state.selectedJobs.includes(e.target.name)&&this.setState({selectedJobs:[].concat(Object(Ce.a)(this.state.selectedJobs),[e.target.name])}):this.setState({selectedJobs:this.state.selectedJobs.filter(function(t){return t!==e.target.name})})}},{key:"handleDownloadJobs",value:function(e){var t=this.state.selectedJobs;e.preventDefault(),t.forEach(function(e){Ne(e.split(",")[2],e.split(",")[1]).then(function(){return console.log("success!")}).catch(function(e){return console.error("Failed to fetch the transcript file: "+e)})})}},{key:"handleDeleteJobs",value:function(e){var a=this,n=this.props.firebase,r=this.state.selectedJobs;e.preventDefault(),r.forEach(function(e){a.setState({jobs:a.state.jobs.filter(function(t){return t.uid!==e.split(",")[0]})}),n.deleteJobFromJobs(e.split(",")[0]),n.deleteJobFromUser(e.split(",")[1]),t.deleteShareDbJob(e.split(",")[2],e.split(",")[1])})}},{key:"render",value:function(){var e=this;M.b.add(_.g);var t=this.state,a=t.jobs,n=t.loading;return r.a.createElement("div",null,n?r.a.createElement("p",{className:"text-center"},r.a.createElement("em",null,"Loading...")):a&&0===a.length?r.a.createElement(x.d,{className:"card-tasks recent-jobs-card"},r.a.createElement(x.h,null,r.a.createElement("h4",{className:"title d-inline text-primary"},"RECENT JOBS"),r.a.createElement(x.L,null,r.a.createElement(x.q,{caret:!0,className:"btn-icon",color:"link","data-toggle":"dropdown",type:"button"},r.a.createElement("i",{className:"tim-icons icon-settings-gear-63"})),r.a.createElement(x.p,{"aria-labelledby":"dropdownMenuLink",right:!0},r.a.createElement(x.o,{disabled:!0,href:"#",onClick:function(t){return e.handleDownloadJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-cloud-download-93"}),"\xa0\xa0 Download Transcription File"),r.a.createElement(x.o,{disabled:!0,href:"#",onClick:function(t){return e.handleDeleteJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-simple-remove"}),"\xa0\xa0 Delete")))),r.a.createElement(x.e,null,r.a.createElement("div",{className:"table-full-width table-responsive"},r.a.createElement(x.J,null,r.a.createElement("tbody",null,r.a.createElement("p",null,r.a.createElement("em",null,"No jobs yet..."))))))):r.a.createElement(x.d,{className:"card-tasks recent-jobs-card"},r.a.createElement(x.h,null,r.a.createElement("h4",{className:"title d-inline text-primary"},"RECENT JOBS"),r.a.createElement(x.L,null,r.a.createElement(x.q,{caret:!0,className:"btn-icon",color:"link","data-toggle":"dropdown",type:"button"},r.a.createElement("i",{className:"tim-icons icon-settings-gear-63"})),r.a.createElement(x.p,{"aria-labelledby":"dropdownMenuLink",right:!0},r.a.createElement(x.o,{href:"#",onClick:function(t){return e.handleDownloadJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-cloud-download-93"}),"\xa0\xa0 Download Transcription File"),r.a.createElement(x.o,{href:"#",onClick:function(t){return e.handleDeleteJobs(t)}},r.a.createElement("i",{className:"tim-icons icon-simple-remove"}),"\xa0\xa0 Delete")))),r.a.createElement(x.e,null,r.a.createElement("div",{className:"table-full-width table-responsive"},r.a.createElement(x.J,null,r.a.createElement("tbody",null,r.a.createElement(Te,{handleJobCheck:this.handleJobCheck,jobs:a,hidden:!a||0===a.length})))))))}}],[{key:"deleteShareDbJob",value:function(e,t){var a="".concat(window.location.protocol,"//").concat(window.location.hostname);return fetch("".concat(a,"/api?user=").concat(e,"&job=").concat(t),{method:"delete"}).then(function(e){return e.json()})}}]),t}(r.a.Component),Te=function(e){var t=e.handleJobCheck,a=e.jobs;return r.a.createElement(r.a.Fragment,null,!!a&&a.map(function(e){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,r.a.createElement(x.t,{check:!0},r.a.createElement("div",{className:"custom-control custom-checkbox d-inline"},r.a.createElement(x.v,{key:e.uid,name:"".concat(e.uid,",").concat(e.slug,",").concat(e.username),id:"".concat(e.uid,",").concat(e.slug,",").concat(e.username),type:"checkbox",onChange:function(e){return t(e)},className:"custom-control-input"}),r.a.createElement(x.z,{className:"custom-control-label",for:"".concat(e.uid,",").concat(e.slug,",").concat(e.username),check:!0})))),r.a.createElement("td",null,r.a.createElement("p",{className:"title text-primary recent-jobs--card-title"},e.title?e.title:e.slug),r.a.createElement("small",{className:"job-date text-muted"},new Date(e.timeCreated).toLocaleString()),r.a.createElement("br",null),r.a.createElement("small",null,e.slug),r.a.createElement("p",{className:"mt-3"},e.snippet?e.snippet:r.a.createElement("em",null,"This job has no preview."))),r.a.createElement("td",{className:"td-actions text-right"},r.a.createElement(I.a,{color:"link",id:"tooltip636901683",title:"",type:"button",to:"/editor?user=".concat(e.username,"&job=").concat(e.slug)},r.a.createElement(W.a,{icon:"edit"})),r.a.createElement(x.M,{delay:0,target:"tooltip636901683",placement:"right"},"Edit Job")))}))},De=g(Fe),Ae=(a(306),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={activeTab:"1",user:{},uid:""},a.toggleTab=a.toggleTab.bind(Object(A.a)(Object(A.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="Upwordly Dashboard";var t=this.props.firebase;t.user(t.auth.currentUser.uid).once("value",function(a){var n=a.val();e.setState({user:Object(ee.a)({},n,{uid:t.auth.currentUser.uid})})})}},{key:"toggleTab",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this.state.user,t=this.props.firebase;return r.a.createElement("div",null,r.a.createElement(ye,{user:e}),r.a.createElement(x.n,{className:"container clear-navbar-footer"},r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:"6",md:"12"},r.a.createElement(ke,{user:e})),r.a.createElement(x.l,{lg:"6",md:"12"},r.a.createElement(De,{user:e,uid:t.auth.currentUser.uid})))),r.a.createElement(L,null))}}]),t}(r.a.Component)),Ue=Object(j.a)(C.a,g,N(function(e){return!!e}))(Ae),Ie=a(101),Le=a.n(Ie);a(313);var ze=function(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)(function(){var t=Le.a.parse(e.location.search);fetch("/api/?user=".concat(t.user,"&job=").concat(t.job)).then(function(e){return e.text()}).then(function(e){return o(e)}).catch(function(e){return o("Could not retrieve this document. Check the URL and that it exists. Error: "+e)})},{}),r.a.createElement("div",{className:"rawTextDoc"},l)},Pe=a(222),Be=a.n(Pe),Je=a(223),We=a(151),Me=a.n(We),_e=a(224),Re=a(102),qe=a.n(Re),Ye={host:"upword.ly/ws",port:"",protocol:"wss://",getAddress:function(){return this.protocol+this.host+this.port}},Ve=new _e.a(Ye.getAddress(),[],{automaticOpen:!0,maxReconnectionDelay:2e3,reconnectInterval:2e3,maxReconnectInterval:3e3,timeoutInterval:2e3,maxRetries:1/0}),Ke=new Me.a.Connection(Ve);Me.a.types.register(qe.a.type);a(327),a(329);var He=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={docLength:0,docWords:0,user:"",uid:"",textArea:"",job:{},jobUid:"",clickToCopyShown:!1},a.query=Le.a.parse(a.props.location.search),a.sharedTextArea=r.a.createRef(),a.handleCountWords=a.handleCountWords.bind(Object(A.a)(Object(A.a)(a))),a.toggleComplete=a.toggleComplete.bind(Object(A.a)(Object(A.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=arguments;this.doc=Ke.get(this.query.user,this.query.job),this.doc.subscribe(function(a){if(a&&e.setState({error:"Could not subscribe to the document."}),!e.doc.type){console.log("Creating document...");var n=qe.a.type.name;e.doc.create("",n,!0,function(){console.log(t)})}!function(e,t){var a;e.value=t.data;var n=[];e.onkeydown=function(t){if("Tab"===t.key){t.preventDefault();var a=e.value,n=e.selectionStart,r=e.selectionEnd;return e.value=a.substring(0,n)+"\t"+a.substring(r),e.selectionStart=e.selectionEnd=n+1,!1}};var r=function(t,r){r&&(n=[r(e.selectionStart),r(e.selectionEnd)]);var l=e.scrollTop;e.value=t,a=e.value,e.scrollTop!==l&&(e.scrollTop=l),n&&window.document.activeElement===e&&(e.selectionStart=n[0],e.selectionEnd=n[1])};r(t.data),t.on("op",function(t,a){if(!0!==a){for(var n=e.value,l=[],o=0;o<t.length;o++){var s=t[o];switch(typeof s){case"number":l.push(n.slice(0,s)),n=n.slice(s);break;case"string":l.push(s);break;case"object":n=n.slice(s.d)}}return r(l.join("")+n)}});for(var l=function(n){setTimeout(function(){e.value!==a&&(a=e.value,function(e,t,a){if(t!==a){for(var n=0;t.charAt(n)===a.charAt(n);)n++;for(var r=0;t.charAt(t.length-1-r)===a.charAt(a.length-1-r)&&r+n<t.length&&r+n<a.length;)r++;if(t.length!==n+r){var l=[n,"",{d:t.length-n-r}];e.submitOp(l)}a.length!==n+r&&e.submitOp([n,a.slice(n,a.length-r)])}}(t,t.data,e.value))},0)},o=["textInput","keydown","keyup","select","cut","paste"],s=0;s<o.length;s++){var c=o[s];e.addEventListener?e.addEventListener(c,l,!1):e.attachEvent("on"+c,l)}t.detach=function(){for(var t=0;t<o.length;t++){var a=o[t];e.removeEventListener?e.removeEventListener(a,l,!1):e.detachEvent("on"+a,l)}}}(document.querySelector("textarea"),e.doc)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.firebase;return t.user(t.auth.currentUser.uid).once("value",function(a){var n=a.val();e.setState({user:n,uid:t.auth.currentUser.uid})}),this.findJob()}},{key:"componentWillUnmount",value:function(){var e=this.props.firebase;this.doc.destroy(),this.binding=null,e.user().off(),e.jobById().off()}},{key:"handleCountWords",value:function(e){var t=!!e.target.value&&e.target.value.split(" ").length;this.setState({docLength:!!e.target.value&&e.target.value.length,docWords:t})}},{key:"findJob",value:function(){var e=this,t=this.props.firebase;t.user(t.auth.currentUser.uid).child("jobs/".concat(this.query.job)).on("value",function(a){if(!a)return new Error("Cannot find snapshot");e.setState({jobUid:a.val().id}),t.jobById(a.val().id).on("value",function(t){e.setState({job:t.val()})})})}},{key:"toggleComplete",value:function(){var e=this,t=this.props.firebase,a=this.state,n=a.job,r=a.jobUid;if(n.completed)t.jobById(r).update({completed:!1},function(){e.setState({job:Object(ee.a)({},n,{completed:!1})}),console.log(e.state)});else{t.jobById(r).update({completed:!0,timeCompleted:(new Date).toUTCString()},function(){e.setState({job:Object(ee.a)({},n,{completed:!0,timeCompleted:(new Date).toUTCString()})}),console.log(e.state)})}}},{key:"render",value:function(){var e=this;M.b.add(_.b,_.i,_.j,_.f,_.k);var t=this.state.job;console.log(t);return r.a.createElement("div",null,r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:6,sm:12},r.a.createElement("div",{className:"editor-wrapper"},r.a.createElement(x.r,{className:"editor-class"},r.a.createElement(x.v,{disabled:t.completed,className:"editor",ref:this.sharedTextArea,placeholder:"Start writing here...",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",type:"textarea",autoFocus:!0,onChange:function(t){return e.handleCountWords(t)}})))),r.a.createElement(x.l,{lg:6,sm:12},r.a.createElement("div",null,r.a.createElement(I.a,{to:O,className:"dashboard-link btn btn-primary align-bottom mt-5 mb-5"},r.a.createElement(W.a,{icon:"arrow-left",onClick:this.goBack}),"\xa0\xa0\xa0 Back to Dashboard"),r.a.createElement(x.d,{body:!0},r.a.createElement(x.k,null,this.state.job.title?'"'.concat(this.state.job.title,'"'):'"'.concat(this.state.job.slug,'"')),r.a.createElement(x.j,null,"Speaker(s): ",this.state.job.speakers?this.state.job.speakers:r.a.createElement("em",null,"None designated."),r.a.createElement("br",null)),r.a.createElement(Je.Tooltip,{title:"Copied!",position:"top",trigger:"click",animation:"perspective",duration:300},r.a.createElement(Be.a,{component:"a","button-href":"#","data-clipboard-text":"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(this.query.user,"/").concat(this.query.job)},"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(this.query.user,"/").concat(this.query.job)))),r.a.createElement(x.d,{body:!0},r.a.createElement(x.k,null,"INFO"),r.a.createElement(x.j,null,"Created: ",r.a.createElement("strong",null,"".concat(new Date(t.timeCreated).toLocaleDateString("en-US"),",\n                  ").concat(new Date(t.timeCreated).toLocaleTimeString("en-GB"))),r.a.createElement("br",null),"Completed: ",r.a.createElement("strong",null,t.timeCompleted?"".concat(new Date(t.timeCompleted).toLocaleDateString("en-US"),", ").concat(new Date(t.timeCompleted).toLocaleTimeString("en-GB")):"Job was never marked completed."))),r.a.createElement(x.d,{body:!0},r.a.createElement(x.k,null,"STATS"),0===this.state.docLength?r.a.createElement(x.j,null,r.a.createElement("em",null,"Begin writing to see document stats.")):r.a.createElement(x.j,null,"Words: ",this.state.docWords,r.a.createElement("br",null),"Characters: ",this.state.docLength)),r.a.createElement(x.d,{body:!0},r.a.createElement(x.k,null,"ACTIONS"),r.a.createElement(x.c,{color:"info"},r.a.createElement(x.b,{color:"primary",onClick:function(){return Ne(t.username,t.slug)}},r.a.createElement(W.a,{icon:"download"}),"\xa0\xa0\xa0Save"),r.a.createElement(x.b,{color:"primary",disabled:!0},r.a.createElement(W.a,{icon:"paper-plane"}),"\xa0\xa0\xa0Send"),r.a.createElement(x.b,{onClick:function(){return e.toggleComplete()},color:t.completed?"success":"primary"},r.a.createElement(W.a,{icon:t.completed?"lock":"lock-open"}),"\xa0\xa0\xa0",t.completed?"Completed":"Editing")))))))}}]),t}(r.a.Component),Ge=Object(j.a)(C.a,g,N(function(e){return!!e}))(He),$e=a(225),Ze=function(){function e(t,a){Object(m.a)(this,e),this.snapshot=t,this.flag=a}return Object(u.a)(e,[{key:"applyOp",value:function(t){return this.snapshot=e.transformSnapshot(t,this.snapshot),this.snapshot}}],[{key:"transformSnapshot",value:function(e,t){for(var a=[],n=0;n<e.length;n++){var r=e[n];switch(typeof r){case"number":a.push(t.slice(0,r)),t=t.slice(r);break;case"string":a.push(r);break;case"object":t=t.slice(r.d)}}return a.join("")+t}}]),e}();var Qe=function(e){var t,a=e.doc,l=e.onLoaded,o=e.cssClass,s=e.flag,c=e.style,i=Object(n.useState)(""),m=Object(F.a)(i,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){return a.subscribe(function(e){e&&d("There was a connection error: "+e)}),a.on("load",function(){t=new Ze(a.data,s),d(t.snapshot),l()}),a.on("op",function(e){setTimeout(function(){d(t.applyOp(e))},0)}),function(){a.unsubscribe(),a.destroy(),t=null}},[]),r.a.createElement("div",{className:o||"",style:c||""},u)},Xe=a(235),et=(a(331),a(152)),tt=a(23),at=a(106),nt=(a(349),a(351),function(){return M.b.add(_.m),r.a.createElement("div",null,r.a.createElement(W.a,{icon:"running"}),"\xa0\xa0\xa0Fetching job!")}),rt=function(){return M.b.add(_.d),r.a.createElement("div",null,r.a.createElement(W.a,{icon:"check"}),"\xa0\xa0\xa0Live transcription is now active!")},lt=function(){return M.b.add(_.h),r.a.createElement("div",null,r.a.createElement(W.a,{icon:"exclamation"}),"\xa0\xa0\xa0",r.a.createElement("strong",null,"Connection lost!"),r.a.createElement("br",null),r.a.createElement("em",null,"Attempting to reconnect..."),r.a.createElement("br",null),r.a.createElement("br",null),"You can also try refreshing the page.")},ot=function(){return M.b.add(_.o),r.a.createElement("div",null,r.a.createElement(W.a,{icon:"wifi"}),"\xa0\xa0\xa0",r.a.createElement("strong",null,"Connection restored."),r.a.createElement("br",null),r.a.createElement("em",null,"Whew! \ud83e\udd84"))},st=null,ct=a(62),it=function(e){return{type:"UPDATE_STYLE",payload:e}},mt=a(64),ut=(a(515),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onStyleChange=a.onStyleChange.bind(Object(A.a)(Object(A.a)(a))),a.onColorChange=a.onColorChange.bind(Object(A.a)(Object(A.a)(a))),a.onBackgroundColorChange=a.onBackgroundColorChange.bind(Object(A.a)(Object(A.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onColorChange",value:function(e){var t={id:"color"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onBackgroundColorChange",value:function(e){var t={id:"backgroundColor"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onStyleChange",value:function(e){var t,a={};return a.id=e.target.id,e.target.id,t=Math.abs(e.target.value),e.target.value&&e.target.value>-1&&e.target.value<100?t+="em":t="1em","fontFamily"===e.target.id&&(t=e.target.value),"textShadow"===e.target.id&&(t=e.target.checked?"2px 2px #474a4f":"unset"),"textTransform"===e.target.id&&(t=e.target.checked?"uppercase":"unset"),a.value=t,this.props.updateStyle(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.visibility,n=t.job;M.b.add(_.n);var l=this.props.style,o=l.backgroundColor,s=l.color,c=l.fontSize,i=l.lineHeight,m=l.textTransform,u=l.textShadow,d=l.fontFamily;return r.a.createElement("div",null,a?r.a.createElement("div",{className:"flyoutMenu"},r.a.createElement(x.n,{fluid:!0,className:"mt-4"},r.a.createElement(x.b,{type:"button",className:"close","aria-label":"Close",onClick:function(){return e.props.handleMenuClick()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement(x.I,null,r.a.createElement(x.l,{lg:4,sm:12},r.a.createElement(x.d,{body:!0,className:"no-bg"},r.a.createElement(x.k,null,'"',n.title?n.title:n.slug,'"'),r.a.createElement(x.j,null,"Speakers: ",r.a.createElement("em",null,n.speakers?n.speakers:"None designated"),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(x.d,{body:!0,className:"no-bg"},r.a.createElement(x.k,null,"Your Stenographer"),r.a.createElement(x.j,null,r.a.createElement("em",null,n.userFullName)))),r.a.createElement(x.l,{lg:4,sm:12},r.a.createElement(x.d,{body:!0,className:"no-bg"},r.a.createElement(x.k,null,"FONT SETTINGS"),r.a.createElement(x.r,null,r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"fontFamily",sm:6},"Font family"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.L,{size:"lg"},r.a.createElement(x.q,{color:"primary",caret:!0,block:!0,style:{fontFamily:d}},d.split(",")[0]),r.a.createElement(x.p,null,r.a.createElement(x.o,{style:{fontFamily:"Comfortaa, sansSerif"},id:"fontFamily",value:"Comfortaa, sansSerif",onClick:function(t){return e.onStyleChange(t)}},"Comfortaa"),r.a.createElement(x.o,{style:{fontFamily:"Cousine, monospace"},id:"fontFamily",value:"Cousine, monospace",onClick:function(t){return e.onStyleChange(t)}},"Cousine"),r.a.createElement(x.o,{style:{fontFamily:"Crete Round, serif"},id:"fontFamily",value:"Crete Round, serif",onClick:function(t){return e.onStyleChange(t)}},"Crete Round"),r.a.createElement(x.o,{style:{fontFamily:"Montserrat, sansSerif"},id:"fontFamily",value:"Montserrat, sansSerif",onClick:function(t){return e.onStyleChange(t)}},"Montserrat"),r.a.createElement(x.o,{style:{fontFamily:"Nunito, sansSerif"},id:"fontFamily",value:"Nunito, sansSerif",onClick:function(t){return e.onStyleChange(t)}},"Nunito"),r.a.createElement(x.o,{style:{fontFamily:"Poppins, sansSerif"},id:"fontFamily",value:"Poppins, sansSerif",onClick:function(t){return e.onStyleChange(t)}},"Poppins"),r.a.createElement(x.o,{divider:!0}),r.a.createElement(x.o,{style:{fontFamily:"Inconsolata, monospace"},id:"fontFamily",value:"Inconsolata, monospace",onClick:function(t){return e.onStyleChange(t)}},"Inconsolata"),r.a.createElement(x.o,{style:{fontFamily:"Ubuntu Mono, monospace"},id:"fontFamily",value:"Ubuntu Mono, monospace",onClick:function(t){return e.onStyleChange(t)}},"Ubuntu Mono"))))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"fontSize",sm:6},"Font size"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.w,null,r.a.createElement(x.v,{type:"text",name:"fontSize",id:"fontSize",placeholder:"(e.g. 3)",defaultValue:c&&c.split("em")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(x.x,{addonType:"append"},"em")))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"lineHeight",sm:6},"Line Height"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.w,null,r.a.createElement(x.v,{type:"text",name:"lineHeight",id:"lineHeight",placeholder:"(e.g. 1)",defaultValue:i&&i.split("em")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(x.x,{addonType:"append"},"em")))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"textTransform",sm:6,check:!0},"All Caps"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.v,{defaultChecked:"uppercase"===m,onChange:function(t){return e.onStyleChange(t)},type:"checkbox",name:"textTransform",id:"textTransform"}))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"textShadow",sm:6,check:!0},"Text Shadow"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.v,{defaultChecked:!0===u,onChange:function(t){return e.onStyleChange(t)},type:"checkbox",name:"textShadow",id:"textShadow"}))))),r.a.createElement(x.d,{body:!0,className:"no-bg"},r.a.createElement(x.k,null,"Transcript Tools"),r.a.createElement(x.b,{className:"btn btn-primary btn-lg mt-4 mb-4",type:"button",size:"lg",onClick:function(){return Ne(n.username,n.slug)}},"Download Transcript"))),r.a.createElement(x.l,{lg:4,sm:12},r.a.createElement(x.d,{body:!0,className:"no-bg"},r.a.createElement(x.k,null,"Colors"),r.a.createElement("div",null,r.a.createElement(x.z,{for:"textColor",className:"mb-2",sm:12},"Text"),r.a.createElement(mt.TwitterPicker,{color:s,colors:["#FF6900","#FCB900","#ffd460","#DCE775","#7BDCB5","#37D67A","#00D084","#DFF1EA","#E2F4FF","#D9E3F0","#8ED1FC","#40AFBF","#0693E3","#ABB8C3","#F47373","#F78DA7","#EB144C","#D9B5ED","#9900EF","#2E2931","#083358","#072247","#635F47","#666666","#555555","#212529","#fff","#000"],id:"color",name:"color",onChangeComplete:function(t){return e.onColorChange(t)}})),r.a.createElement("div",{className:"mt-3"},r.a.createElement(x.z,{for:"backgroundColor",className:"mb-2",sm:12},"Background"),r.a.createElement(mt.TwitterPicker,{color:o,colors:["#FF6900","#FCB900","#ffd460","#DCE775","#7BDCB5","#37D67A","#00D084","#DFF1EA","#E2F4FF","#D9E3F0","#8ED1FC","#40AFBF","#0693E3","#ABB8C3","#F47373","#F78DA7","#EB144C","#D9B5ED","#9900EF","#2E2931","#083358","#072247","#635F47","#666666","#555555","#212529","#fff","#000"],id:"backgroundColor",name:"backgroundColor",onChangeComplete:function(t){return e.onBackgroundColorChange(t)}}))))))):"")}}]),t}(r.a.Component)),dt=Object(ct.a)(function(e){return{style:e.aloft_localstorage.style}},function(e){return{updateStyle:function(t){return e(it(t))},resetStyle:function(){return e({type:"RESET_STYLE",payload:""})}}})(ut),ht=function(e){function t(e){var a;Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0,menuVisible:!1,style:{},fabOpen:!1};var n=e.user,r=e.job;return a.doc=Ke.get(n,r.slug),a.scrollDown=a.scrollDown.bind(Object(A.a)(Object(A.a)(a))),a.onLoaded=a.onLoaded.bind(Object(A.a)(Object(A.a)(a))),a.toggleMenu=a.toggleMenu.bind(Object(A.a)(Object(A.a)(a))),a.handleMenuClick=a.handleMenuClick.bind(Object(A.a)(Object(A.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onScrollToBottom",value:function(e){var t=this.state.loading;e||t||this.scrollDown()}},{key:"onLoaded",value:function(){tt.toast.dismiss(st),Object(tt.toast)(r.a.createElement(rt,null),{autoClose:3e3,type:tt.toast.TYPE.SUCCESS,position:"bottom-right",closeOnClick:!0,draggable:!1,className:"rotateY animated"}),this.setState({loading:!1},this.scrollDownDelay)}},{key:"scrollDown",value:function(){setTimeout(function(){et.animateScroll.scrollToBottom({delay:0,duration:200,isDynamic:!0})},0)}},{key:"scrollDownDelay",value:function(){setTimeout(function(){et.animateScroll.scrollToBottom({delay:0,duration:200,isDynamic:!0})},470)}},{key:"toggleMenu",value:function(){var e=this.state.menuVisible;this.setState({menuVisible:!e})}},{key:"handleMenuClick",value:function(){this.toggleMenu()}},{key:"componentDidMount",value:function(){var e=!1;st=Object(tt.toast)(r.a.createElement(nt,null),{autoClose:!1,position:"bottom-right",type:tt.toast.TYPE.WARNING,closeOnClick:!0,draggable:!0}),Ve.onclose=function(){e=!0,function(){if(!tt.toast.isActive(st))st=Object(tt.toast)(r.a.createElement(lt,null),{autoClose:!1,position:"top-center",type:tt.toast.TYPE.ERROR,closeOnClick:!0,draggable:!0,toastId:st})}()},Ve.onopen=function(){e&&(tt.toast.dismiss(st),Object(tt.toast)(r.a.createElement(ot,null),{autoClose:1500,position:"top-center",type:tt.toast.TYPE.SUCCESS,closeOnClick:!0,draggable:!0}))}}},{key:"componentWillUnmount",value:function(){this.doc.destroy()}},{key:"render",value:function(){var e=this;M.b.add(_.l,_.e),M.b.add(_.a);var t=this.props.style,a=this.state.menuVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(at.b,{mainButtonStyles:{color:"#fff",backgroundColor:"#072247"},position:{top:2,right:2},icon:r.a.createElement(W.a,{icon:"plus"}),event:"click"},r.a.createElement(at.a,{style:{backgroundColor:"#ffd460",color:"#083358"},text:"Scroll to Bottom",onClick:function(){return e.scrollDown()}},r.a.createElement(W.a,{icon:"arrow-down"})),r.a.createElement(at.a,{text:"Settings",onClick:function(){return e.handleMenuClick()}},r.a.createElement(W.a,{icon:"cog"}))),r.a.createElement(dt,{visibility:a,style:t,job:this.props.job,handleMenuClick:this.handleMenuClick}),r.a.createElement("div",{className:"liveTranscript--container"},r.a.createElement("div",{className:"liveTranscript"},r.a.createElement(Qe,{ref:this.observer,cssClass:"liveTranscript--text-format",style:t,doc:this.doc,onLoaded:this.onLoaded,flag:"\u2248",elementType:"div"})),r.a.createElement(Xe.a,{tag:"div",threshold:.1,onChange:function(t){return e.onScrollToBottom(t)}}),r.a.createElement(tt.ToastContainer,{draggable:!0,autoClose:5e3})))}}]),t}(r.a.Component),pt=a(233),bt=a(227),gt=(a(542),a(552));function ft(){var e=Object($e.a)(["\n    display: block;\n    margin: 0 auto;\n    color: style.color;\n"]);return ft=function(){return e},e}var Et=Object(pt.a)(ft()),vt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={job:{},jobId:"",loading:!0,user:""},a.docParams=a.props.match.params,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.findUser(this.docParams.user.toLowerCase()).once("value",function(t){if(!t.val())return e.setState({loading:!1});var a=t.val(),n=Object.keys(a).map(function(e){return Object(ee.a)({},a[e])});return n[0].jobs[e.docParams.job.toLowerCase()]?(e.setState({user:n[0].username.toLowerCase(),jobId:n[0].jobs[e.docParams.job.toLowerCase()].id}),e.findJob()):e.setState({loading:!1})})}},{key:"findJob",value:function(){var e=this,t=this.props.firebase,a=this.state.jobId;t.jobById(a).once("value",function(t){if(t.val()){var a=t.val();e.setState({job:a,loading:!1})}})}},{key:"render",value:function(){var e=this.state,t=e.job,a=e.jobId,n=e.loading,l=e.user,o=this.props.style;return document.title=t.title,t.completed?r.a.createElement(gt.a,{push:!0,to:{pathname:"/doc",state:{from:this.props.location},search:"?user=".concat(l,"&job=").concat(t.slug)}}):r.a.createElement("div",{style:{backgroundColor:o.backgroundColor}},n?r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(bt.BarLoader,{css:Et,sizeUnit:"px",size:13,margin:"6px",loading:n})):t&&a&&!0===t.privacy?r.a.createElement("p",null,"this is a private event."):t&&a?r.a.createElement(ht,{className:"transcript--main-container",user:l,job:t,style:o}):r.a.createElement("p",null,"No event found with that user/job combination!"))}}]),t}(r.a.Component),yt=Object(ct.a)(function(e){return{style:e.aloft_localstorage.style}},{})(vt),wt=g(yt),kt=a(153),Ct=a.n(kt),jt=(a(544),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={colors:!1,information:!1,textOptions:!0,file:!1},a.onClick=a.onClick.bind(Object(A.a)(Object(A.a)(a))),a.onStyleChange=a.onStyleChange.bind(Object(A.a)(Object(A.a)(a))),a.goBack=a.goBack.bind(Object(A.a)(Object(A.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onColorChange",value:function(e){var t={id:"color"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onBackgroundColorChange",value:function(e){var t={id:"backgroundColor"};return t.value=e.hex,this.props.updateStyle(t)}},{key:"onStyleChange",value:function(e){var t,a={};return a.id=e.target.id,e.target.id,t=Math.abs(e.target.value),e.target.value&&e.target.value>-1&&e.target.value<100?t+="em":t="1em","textTransform"===e.target.id&&(t=e.target.checked?"uppercase":"unset"),a.value=t,console.log(e.target.id,t),console.log("target",e.target.checked),console.log(a),this.props.updateStyle(a)}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"onClick",value:function(e){var t={colors:!1,information:!1,textOptions:!0,file:!1};switch(e){case 1:t.colors=!1,t.information=!1,t.textOptions=!0,t.file=!1;break;case 2:t.colors=!0,t.information=!1,t.textOptions=!1,t.file=!1;break;case 3:t.colors=!1,t.information=!0,t.textOptions=!1,t.file=!1;break;case 4:t.colors=!1,t.information=!1,t.textOptions=!1,t.file=!0}return this.setState({colors:t.colors,information:t.information,textOptions:t.textOptions,file:t.file})}},{key:"render",value:function(){var e=this;M.b.add(_.n);var t=this.props.style,a=t.backgroundColor,n=t.color,l=t.fontSize,o=t.lineHeight,s=t.textTransform;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"settings-panel__close-button",onClick:this.goBack},r.a.createElement(W.a,{icon:"times"})),r.a.createElement(x.n,{className:"transcript-view-tools__container"},r.a.createElement(x.I,null,r.a.createElement(x.l,{md:4,className:"settings-panel__column-left"},r.a.createElement("div",{className:"settings-panel__column-left--header-group"},r.a.createElement("h2",null,"Settings"),r.a.createElement("p",null,"Upwordly version 0.1.0")),r.a.createElement(x.A,null,r.a.createElement(x.B,{onClick:function(){return e.onClick(1)},active:this.state.textOptions,action:!0},"Text Appearance"),r.a.createElement(x.B,{onClick:function(){return e.onClick(2)},active:this.state.colors,action:!0},"Colors"),r.a.createElement(x.B,{onClick:function(){return e.onClick(3)},active:this.state.information,action:!0},"Information"),r.a.createElement(x.B,{onClick:function(){return e.onClick(4)},active:this.state.file,action:!0},"Transcript File")),r.a.createElement("div",{className:"vertical-padding-5em"}),r.a.createElement(x.b,{color:"danger",onClick:this.props.resetStyle},"Reset to default")),r.a.createElement(x.l,{md:8,className:"settings-panel__column-right"},r.a.createElement("div",{className:"settings-panel__column-right-settings",hidden:!this.state.textOptions},r.a.createElement("div",{className:"settings-panel__column-right--header-group"}),r.a.createElement(x.r,null,r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"fontFamily",sm:6},"Font family"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.L,null,r.a.createElement(x.q,{caret:!0},"Dropdown"),r.a.createElement(x.p,null,r.a.createElement(x.o,{header:!0},"Header"),r.a.createElement(x.o,{disabled:!0},"Action"),r.a.createElement(x.o,null,"Another Action"),r.a.createElement(x.o,{divider:!0}),r.a.createElement(x.o,null,"Another Action"))))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"fontSize",sm:6},"Font size"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.w,null,r.a.createElement(x.v,{type:"text",name:"fontSize",id:"fontSize",placeholder:"(e.g. 3)",defaultValue:l&&l.split("e")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(x.x,{addonType:"append"},"em")))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"lineHeight",sm:6},"Line Height"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.w,null,r.a.createElement(x.v,{type:"text",name:"lineHeight",id:"lineHeight",placeholder:"(e.g. 1)",defaultValue:o&&o.split("e")[0],onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement(x.x,{addonType:"append"},"em")))),r.a.createElement(x.t,{row:!0},r.a.createElement(x.z,{for:"textTransform",sm:6},"All caps"),r.a.createElement(x.l,{sm:6},r.a.createElement(x.t,{check:!0},r.a.createElement(x.z,{check:!0},r.a.createElement(x.v,{type:"checkbox",name:"textTransform",id:"textTransform",defaultChecked:"uppercase"===s,onChange:function(t){return e.onStyleChange(t)}}),r.a.createElement("span",{className:"form-check-sign"},r.a.createElement("span",{className:"check"}))))))),r.a.createElement(x.d,{style:{backgroundColor:this.props.style.backgroundColor}},r.a.createElement(x.i,{top:!0,width:"100%",src:Ct.a,alt:"Captions Preview"}),r.a.createElement(x.e,{className:"settings-panel__column-right--preview"},r.a.createElement(x.j,{style:this.props.style},"Hello, hello, baby. You called, I can't hear a thing. I have got no service in the club, you see, see. Wha-wha-what did you say? Oh, you're breaking up on me. Sorry, I cannot hear you. I'm kinda busy. K-kinda busy. K-kinda busy. Sorry, I cannot hear you. I'm kinda busy")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.colors},r.a.createElement(x.I,null,r.a.createElement(x.l,{sm:6},r.a.createElement(mt.ChromePicker,{color:n,id:"color",name:"color",onChangeComplete:function(t){return e.onColorChange(t)}}),r.a.createElement(x.z,{for:"textColor",sm:12},"Text color")),r.a.createElement(x.l,{sm:6},r.a.createElement(mt.ChromePicker,{color:a,id:"backgroundColor",name:"backgroundColor",onChangeComplete:function(t){return e.onBackgroundColorChange(t)}}),r.a.createElement(x.z,{for:"backgroundColor",sm:12},"Background color"))),r.a.createElement(x.d,{style:{backgroundColor:this.props.style.backgroundColor}},r.a.createElement(x.i,{top:!0,width:"100%",src:Ct.a,alt:"Captions Preview"}),r.a.createElement(x.e,{className:"settings-panel__column-right--preview"},r.a.createElement(x.j,{style:this.props.style},"Hello, hello, baby. You called, I can't hear a thing. I have got no service in the club, you see, see. Wha-wha-what did you say? Oh, you're breaking up on me. Sorry, I cannot hear you. I'm kinda busy. K-kinda busy. K-kinda busy. Sorry, I cannot hear you. I'm kinda busy")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.information},r.a.createElement("h3",null,"Information"),r.a.createElement(x.y,null,r.a.createElement("p",{className:"lead"},"This is a simple hero unit, a simple Jumbotron-style component for calling extra attention to featured content or information."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",null,"It uses utility classes for typography and spacing to space content out within the larger container."),r.a.createElement("p",{className:"lead"},r.a.createElement(x.b,{color:"primary"},"Learn More")))),r.a.createElement("div",{className:"settings-panel__column-right-information",hidden:!this.state.file},r.a.createElement("h3",null,"Transcript File"))))))}}]),t}(r.a.Component)),St=Object(ct.a)(function(e){return{style:e.aloft_localstorage.style}},function(e){return{updateStyle:function(t){return e(it(t))},resetStyle:function(){return e({type:"RESET_STYLE",payload:""})}}})(jt),Ot=k(function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{path:"/account",component:pe}),r.a.createElement(c.a,{path:"/admin",component:fe}),r.a.createElement(c.a,{path:O,component:Ue}),r.a.createElement(c.a,{path:"/doc",component:ze}),r.a.createElement(c.a,{exact:!0,path:"/",component:B}),r.a.createElement(c.a,{path:"/signup",component:X}),r.a.createElement(c.a,{path:"/signin",component:me}),r.a.createElement(c.a,{path:"pw-change",component:he}),r.a.createElement(c.a,{path:"/pw-forget",component:re}),r.a.createElement(c.a,{path:"transcript-view-tools",component:St}),r.a.createElement(c.a,{path:"/editor",component:Ge}),r.a.createElement(c.a,{path:"/:user/:job",component:wt})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nt=a(77),xt=a(61),Ft={aloft_localstorage:{style:{backgroundColor:"#EFF9FF",color:"#262A38",fontSize:"3em",fontFamily:"Nunito, sansSerif",lineHeight:"1.7em",margin:"0",textTransform:"unset",textShadow:"unset"}}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STYLE":return Object.assign({},e,{aloft_localstorage:{style:Object(ee.a)({},e.aloft_localstorage.style,Object(J.a)({},t.payload.id,t.payload.value))}});case"RESET_STYLE":return Object.assign({},e,{aloft_localstorage:{style:Ft.aloft_localstorage.style}});default:return e}},Dt=a(229),At=a(230),Ut=function(){try{var e=localStorage.getItem("aloft_localstorage");return null===e?Ft:JSON.parse(e)}catch(t){return Ft}}(),It=Object(xt.createStore)(Tt,Ut,Object(At.composeWithDevTools)(Object(xt.applyMiddleware)(Dt.a)));It.subscribe(Object(G.throttle)(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("aloft_localstorage",t)}catch(a){}}({aloft_localstorage:It.getState().aloft_localstorage})}));var Lt=It;a(546);o.a.render(r.a.createElement(f.Provider,{value:new w},r.a.createElement(Nt.a,{store:Lt},r.a.createElement(Ot,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[236,2,1]]]);
//# sourceMappingURL=main.461f56e5.chunk.js.map